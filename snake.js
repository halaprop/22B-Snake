function a0_0x12cb(){const _0x5952de=['8ZqgyNt','\x20Turns:\x20','glyph','randomColor','dRow','eraseCharAt','popFront','Length:\x20','metric','white','602665mBtrcU','randBetween','13197519bCBblt','randomCandy','main-canvas','snake','131757uMHTYV','3871364DPPqxO','Ouch,\x20my\x20nose!','candy','row','orange','seed','color','intersects','calories','randomPosition','assign','drawChars','magenta','length','yellow','step','headGlyph','next','headIntersects','dCol','grid','8019561Sfwoyx','tail','gameOver','3751204ILewdx','pink','12puFwmL','pushBack','setSeed','statusString','60vJvDtA','col','pushFront','ArrowRight','cout-lines','turnCount','willCrash','rand','ArrowLeft','draw','eat','getElementById','lime','6DRSMHH','value','setStatusLine','5845596ifqOHM','drawCharAt','colCount','ArrowUp','popBack','head','rowCount','ArrowDown'];a0_0x12cb=function(){return _0x5952de;};return a0_0x12cb();}const a0_0x5ae462=a0_0x3b35;(function(_0x33215a,_0x594295){const _0x94a104=a0_0x3b35,_0x54f0a9=_0x33215a();while(!![]){try{const _0xc3aee0=-parseInt(_0x94a104(0x1cb))/0x1+parseInt(_0x94a104(0x19d))/0x2+parseInt(_0x94a104(0x1b3))/0x3+parseInt(_0x94a104(0x19f))/0x4*(-parseInt(_0x94a104(0x1c5))/0x5)+parseInt(_0x94a104(0x1b0))/0x6*(parseInt(_0x94a104(0x1cc))/0x7)+parseInt(_0x94a104(0x1bb))/0x8*(parseInt(_0x94a104(0x1c7))/0x9)+parseInt(_0x94a104(0x1a3))/0xa*(-parseInt(_0x94a104(0x19a))/0xb);if(_0xc3aee0===_0x594295)break;else _0x54f0a9['push'](_0x54f0a9['shift']());}catch(_0x586b76){_0x54f0a9['push'](_0x54f0a9['shift']());}}}(a0_0x12cb,0xee42b));import{ConsoleGrid,Cout}from'./console-grid.js';export class SnakeApp{constructor(){const _0x4fa394=a0_0x3b35,_0x46c051={'canvas':document['getElementById'](_0x4fa394(0x1c9)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this['sleepTimeout']=0x64,this[_0x4fa394(0x199)]=new ConsoleGrid(_0x46c051);const _0x26740b=document[_0x4fa394(0x1ae)](_0x4fa394(0x1a7));this['cout']=new Cout(_0x26740b),this['turnCount']=0x0,this['gameOver']=![],this['snake']=new Snake(),this[_0x4fa394(0x1ca)]['drawChars'](this[_0x4fa394(0x199)]),this['candy']=Candy[_0x4fa394(0x1c8)](this['snake'],this[_0x4fa394(0x199)][_0x4fa394(0x1b9)],this[_0x4fa394(0x199)][_0x4fa394(0x1b5)]),this[_0x4fa394(0x1ce)][_0x4fa394(0x1ac)](this[_0x4fa394(0x199)]),this[_0x4fa394(0x199)][_0x4fa394(0x1b2)](this[_0x4fa394(0x1a2)]());}[a0_0x5ae462(0x1c3)](){const _0x4513c6=a0_0x5ae462,_0x40ff48=this['turnCount'],_0x180fb3=this[_0x4513c6(0x1ca)][_0x4513c6(0x192)]();return _0x40ff48==0x0?0x0:0x1*_0x180fb3*_0x180fb3/_0x40ff48;}[a0_0x5ae462(0x1a2)](_0x4d78ae){const _0x2805b3=a0_0x5ae462;let _0x2f99e9=_0x2805b3(0x1c2)+this[_0x2805b3(0x1ca)][_0x2805b3(0x192)]()+_0x2805b3(0x1bc)+this[_0x2805b3(0x1a8)]+'.\x20Metric:\x20'+this[_0x2805b3(0x1c3)]()['toFixed'](0x3);if(_0x4d78ae)_0x2f99e9+='.\x20'+_0x4d78ae;return _0x2f99e9;}['keydown'](_0xceb238){const _0x4fe701=a0_0x5ae462;let _0x2d0766='';switch(_0xceb238){case _0x4fe701(0x1ab):case _0x4fe701(0x1a6):case _0x4fe701(0x1b6):case _0x4fe701(0x1ba):this[_0x4fe701(0x1ca)]['steer'](_0xceb238,this[_0x4fe701(0x199)],this['candy']['row'],this[_0x4fe701(0x1ce)][_0x4fe701(0x1a4)]);break;case'Q':case'q':this[_0x4fe701(0x19c)]=!![];default:break;}!this['gameOver']&&(this[_0x4fe701(0x1ca)]['willCrash'](this['grid'])?(this[_0x4fe701(0x19c)]=!![],_0x2d0766=_0x4fe701(0x1cd)):(this[_0x4fe701(0x1ca)][_0x4fe701(0x194)](this['grid']),this[_0x4fe701(0x1ca)]['headIntersects'](this[_0x4fe701(0x1ce)][_0x4fe701(0x1cf)],this[_0x4fe701(0x1ce)][_0x4fe701(0x1a4)])&&(this[_0x4fe701(0x1ca)][_0x4fe701(0x1ad)](this[_0x4fe701(0x1ce)][_0x4fe701(0x1d4)]),this['snake']['color']=this[_0x4fe701(0x1ce)][_0x4fe701(0x1d2)],this[_0x4fe701(0x1ca)][_0x4fe701(0x1d7)](this['grid']),this[_0x4fe701(0x1ce)]=Candy['randomCandy'](this[_0x4fe701(0x1ca)],this['grid']['rowCount'],this['grid'][_0x4fe701(0x1b5)]),this[_0x4fe701(0x1ce)]['draw'](this[_0x4fe701(0x199)]))),this[_0x4fe701(0x1a8)]++,this[_0x4fe701(0x199)][_0x4fe701(0x1b2)](this[_0x4fe701(0x1a2)](_0x2d0766))),this['grid'][_0x4fe701(0x1b2)](this[_0x4fe701(0x1a2)](_0x2d0766));}}class ListNode{constructor(_0x2391dc,_0x378232=null){const _0x59c2bf=a0_0x5ae462;this[_0x59c2bf(0x1b1)]=_0x2391dc,this[_0x59c2bf(0x196)]=_0x378232;}}function a0_0x3b35(_0x3859bf,_0x50b25c){const _0x12cb8d=a0_0x12cb();return a0_0x3b35=function(_0x3b3567,_0x4bb1de){_0x3b3567=_0x3b3567-0x191;let _0x25b2a6=_0x12cb8d[_0x3b3567];return _0x25b2a6;},a0_0x3b35(_0x3859bf,_0x50b25c);}class LinkedList{constructor(){const _0x1d097c=a0_0x5ae462;this[_0x1d097c(0x1b8)]=null;}[a0_0x5ae462(0x1a5)](_0x5d8df8){const _0x50c883=a0_0x5ae462;this['head']=new ListNode(_0x5d8df8,this[_0x50c883(0x1b8)]);}[a0_0x5ae462(0x1c1)](){const _0x4f7542=a0_0x5ae462;this['head']&&(this[_0x4f7542(0x1b8)]=this[_0x4f7542(0x1b8)][_0x4f7542(0x196)]);}[a0_0x5ae462(0x1a0)](_0x3e2c84){const _0x164c87=a0_0x5ae462,_0x49c7e2=this[_0x164c87(0x19b)](),_0x367952=new ListNode(_0x3e2c84);_0x49c7e2?_0x49c7e2[_0x164c87(0x196)]=_0x367952:this[_0x164c87(0x1b8)]=_0x367952;}[a0_0x5ae462(0x1b7)](){const _0x138182=a0_0x5ae462,_0x37b7dc=this[_0x138182(0x19b)]();if(_0x37b7dc){if(this[_0x138182(0x1b8)]==_0x37b7dc)this[_0x138182(0x1b8)]=null;else{let _0x1b02e0=this['head'];while(_0x1b02e0['next']!=_0x37b7dc)_0x1b02e0=_0x1b02e0[_0x138182(0x196)];_0x1b02e0[_0x138182(0x196)]=null;}}}['tail'](){const _0xca5a6a=a0_0x5ae462;let _0x2f9f05=null;for(let _0x3124cc=this[_0xca5a6a(0x1b8)];_0x3124cc;_0x3124cc=_0x3124cc[_0xca5a6a(0x196)]){_0x2f9f05=_0x3124cc;}return _0x2f9f05;}['length'](){const _0x16423f=a0_0x5ae462;let _0x2b331e=0x0;for(let _0x1258b7=this[_0x16423f(0x1b8)];_0x1258b7;_0x1258b7=_0x1258b7['next']){_0x2b331e++;}return _0x2b331e;}}class Snake extends LinkedList{constructor(){const _0x3e2b0a=a0_0x5ae462;super(),this[_0x3e2b0a(0x1d4)]=0x0,this[_0x3e2b0a(0x1d2)]=_0x3e2b0a(0x1c4),this[_0x3e2b0a(0x1bd)]='o',this[_0x3e2b0a(0x195)]='@',this[_0x3e2b0a(0x1bf)]=0x0,this[_0x3e2b0a(0x198)]=0x1,this[_0x3e2b0a(0x1a0)]({'row':0x5,'col':0x5}),this[_0x3e2b0a(0x1a0)]({'row':0x5,'col':0x4}),this[_0x3e2b0a(0x1a0)]({'row':0x5,'col':0x3});}[a0_0x5ae462(0x1a9)](_0xf475a0){const _0x23e43=a0_0x5ae462,_0x31cf1e=this[_0x23e43(0x1b8)]['value'][_0x23e43(0x1cf)]+this['dRow'],_0x2001e3=this[_0x23e43(0x1b8)]['value']['col']+this[_0x23e43(0x198)],_0x459fd6=_0x31cf1e>=0x0&&_0x31cf1e<_0xf475a0[_0x23e43(0x1b9)]&&_0x2001e3>=0x0&&_0x2001e3<_0xf475a0['colCount'];return!_0x459fd6||this[_0x23e43(0x1d3)](_0x31cf1e,_0x2001e3);}[a0_0x5ae462(0x197)](_0x49e0f3,_0x3f9b50){const _0x47ff1f=a0_0x5ae462;return this[_0x47ff1f(0x1b8)][_0x47ff1f(0x1b1)][_0x47ff1f(0x1cf)]==_0x49e0f3&&this['head'][_0x47ff1f(0x1b1)][_0x47ff1f(0x1a4)]==_0x3f9b50;}[a0_0x5ae462(0x1d3)](_0xc87f2d,_0x3fd614){const _0x22fd0f=a0_0x5ae462;let _0x292506=![],_0x213cdb=this[_0x22fd0f(0x1b8)];while(_0x213cdb){if(_0x213cdb[_0x22fd0f(0x1b1)][_0x22fd0f(0x1cf)]==_0xc87f2d&&_0x213cdb['value'][_0x22fd0f(0x1a4)]==_0x3fd614){_0x292506=!![];break;}_0x213cdb=_0x213cdb[_0x22fd0f(0x196)];}return _0x292506;}[a0_0x5ae462(0x1d7)](_0x3aebb8){const _0x53eff4=a0_0x5ae462;let _0x586370=this[_0x53eff4(0x195)];for(let _0x9432d7=this[_0x53eff4(0x1b8)];_0x9432d7;_0x9432d7=_0x9432d7[_0x53eff4(0x196)]){_0x3aebb8[_0x53eff4(0x1b4)](_0x9432d7[_0x53eff4(0x1b1)][_0x53eff4(0x1cf)],_0x9432d7['value'][_0x53eff4(0x1a4)],_0x586370,this[_0x53eff4(0x1d2)]),_0x586370=this['glyph'];}}['steer'](_0x58be90,_0xf6b2ec,_0x446f81,_0x13d705){const _0x3abc23=a0_0x5ae462;this[_0x3abc23(0x1bf)]=0x0,this[_0x3abc23(0x198)]=0x0;switch(_0x58be90){case _0x3abc23(0x1ab):this[_0x3abc23(0x198)]=-0x1;break;case'ArrowRight':this[_0x3abc23(0x198)]=0x1;break;case _0x3abc23(0x1b6):this[_0x3abc23(0x1bf)]=-0x1;break;case _0x3abc23(0x1ba):this[_0x3abc23(0x1bf)]=0x1;break;default:break;}}[a0_0x5ae462(0x194)](_0x39999e){const _0x1870b7=a0_0x5ae462;let _0x56a119=this[_0x1870b7(0x1b8)][_0x1870b7(0x1b1)][_0x1870b7(0x1cf)]+this[_0x1870b7(0x1bf)],_0x50b38f=this['head'][_0x1870b7(0x1b1)][_0x1870b7(0x1a4)]+this[_0x1870b7(0x198)];_0x39999e[_0x1870b7(0x1b4)](this[_0x1870b7(0x1b8)][_0x1870b7(0x1b1)][_0x1870b7(0x1cf)],this[_0x1870b7(0x1b8)][_0x1870b7(0x1b1)][_0x1870b7(0x1a4)],this['glyph'],this[_0x1870b7(0x1d2)]),this[_0x1870b7(0x1a5)]({'row':_0x56a119,'col':_0x50b38f}),_0x39999e[_0x1870b7(0x1b4)](_0x56a119,_0x50b38f,this[_0x1870b7(0x195)],this['color']);if(this[_0x1870b7(0x1d4)]>0x0)this[_0x1870b7(0x1d4)]--;else{const _0x26d620=this[_0x1870b7(0x19b)]();_0x39999e[_0x1870b7(0x1c0)](_0x26d620[_0x1870b7(0x1b1)][_0x1870b7(0x1cf)],_0x26d620[_0x1870b7(0x1b1)][_0x1870b7(0x1a4)]),this[_0x1870b7(0x1b7)]();}}[a0_0x5ae462(0x1ad)](_0x47d6a1){const _0xfc7ce=a0_0x5ae462;this[_0xfc7ce(0x1d4)]+=_0x47d6a1;}}class Candy{constructor(_0xf41d70){const _0x3cf7c8=a0_0x5ae462;Object[_0x3cf7c8(0x1d6)](this,_0xf41d70);}static[a0_0x5ae462(0x1c8)](_0x5b9d48,_0x44c6b2,_0x463e4c){const _0x259d62=a0_0x5ae462,{row:_0x1da2c8,col:_0x32c41d}=this[_0x259d62(0x1d5)](_0x5b9d48,_0x44c6b2,_0x463e4c),_0x33613a=this[_0x259d62(0x1be)](),_0x347352=Random[_0x259d62(0x1c6)](0x1,0xa),_0x528bd4=''+_0x347352;return new Candy({'row':_0x1da2c8,'col':_0x32c41d,'calories':_0x347352,'glyph':_0x528bd4,'color':_0x33613a});}static[a0_0x5ae462(0x1d5)](_0x41103a,_0x4de7ec,_0x296464){const _0x1d8569=a0_0x5ae462;let _0x28a177,_0x3ade14;do{_0x28a177=Random[_0x1d8569(0x1c6)](0x0,_0x4de7ec),_0x3ade14=Random[_0x1d8569(0x1c6)](0x0,_0x296464);}while(_0x41103a[_0x1d8569(0x1d3)](_0x28a177,_0x3ade14));return{'row':_0x28a177,'col':_0x3ade14};}static[a0_0x5ae462(0x1be)](){const _0x5f4e80=a0_0x5ae462,_0xaddd07=['red',_0x5f4e80(0x1af),_0x5f4e80(0x193),'cyan',_0x5f4e80(0x191),_0x5f4e80(0x1d0),_0x5f4e80(0x19e)];return _0xaddd07[Random[_0x5f4e80(0x1c6)](0x0,_0xaddd07['length'])];}[a0_0x5ae462(0x1ac)](_0x2d3942){const _0x21fc47=a0_0x5ae462;_0x2d3942[_0x21fc47(0x1b4)](this[_0x21fc47(0x1cf)],this[_0x21fc47(0x1a4)],this[_0x21fc47(0x1bd)],this[_0x21fc47(0x1d2)]);}}class RandANSI{constructor(_0x10b30e=0x1){const _0x4b7a49=a0_0x5ae462;this[_0x4b7a49(0x1d1)]=_0x10b30e;}[a0_0x5ae462(0x1a1)](_0x147a0e){const _0x4880cd=a0_0x5ae462;this[_0x4880cd(0x1d1)]=_0x147a0e;}[a0_0x5ae462(0x1aa)](){const _0x242f7d=a0_0x5ae462;return(this[_0x242f7d(0x1d1)]=Number((BigInt(this[_0x242f7d(0x1d1)])*0x41c64e6dn+0x3039n)%0x80000000n))>>0x10&0x7fff;}[a0_0x5ae462(0x1c6)](_0xa90df,_0x480882){return _0xa90df+this['rand']()%(_0x480882-_0xa90df);}}const Random=new RandANSI();