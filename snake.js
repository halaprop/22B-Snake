const a0_0x5d8e12=a0_0x3dc9;(function(_0x4c90fb,_0x25a6bc){const _0x103deb=a0_0x3dc9,_0x2fbc28=_0x4c90fb();while(!![]){try{const _0x1a5783=-parseInt(_0x103deb(0x96))/0x1*(-parseInt(_0x103deb(0xa6))/0x2)+parseInt(_0x103deb(0xa1))/0x3+-parseInt(_0x103deb(0xab))/0x4+-parseInt(_0x103deb(0xb4))/0x5+parseInt(_0x103deb(0xa4))/0x6+-parseInt(_0x103deb(0x97))/0x7+-parseInt(_0x103deb(0x9c))/0x8;if(_0x1a5783===_0x25a6bc)break;else _0x2fbc28['push'](_0x2fbc28['shift']());}catch(_0x17d8e1){_0x2fbc28['push'](_0x2fbc28['shift']());}}}(a0_0x2e16,0x228ce));import{ConsoleGrid,Cout}from'./console-grid.js';function a0_0x3dc9(_0x50a9a4,_0x435613){const _0x2e16a9=a0_0x2e16();return a0_0x3dc9=function(_0x3dc9de,_0x45b603){_0x3dc9de=_0x3dc9de-0x83;let _0x51ddb5=_0x2e16a9[_0x3dc9de];return _0x51ddb5;},a0_0x3dc9(_0x50a9a4,_0x435613);}export class SnakeApp{constructor(){const _0x4b1fc4=a0_0x3dc9,_0x3db3d4={'canvas':document[_0x4b1fc4(0xba)](_0x4b1fc4(0xbe)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x4b1fc4(0x88)]=0x64,this[_0x4b1fc4(0x94)]=new ConsoleGrid(_0x3db3d4);const _0x304c17=document['getElementById'](_0x4b1fc4(0xa8));this['cout']=new Cout(_0x304c17),this[_0x4b1fc4(0x9b)]=0x0,this[_0x4b1fc4(0x92)]=![],this[_0x4b1fc4(0xb6)]=new Snake(),this[_0x4b1fc4(0xb6)][_0x4b1fc4(0x8a)](this['grid']),this[_0x4b1fc4(0x93)]=Candy[_0x4b1fc4(0xc2)](this['snake'],this[_0x4b1fc4(0x94)][_0x4b1fc4(0xbf)],this[_0x4b1fc4(0x94)][_0x4b1fc4(0xaf)]),this[_0x4b1fc4(0x93)][_0x4b1fc4(0xc4)](this[_0x4b1fc4(0x94)]),this[_0x4b1fc4(0x94)][_0x4b1fc4(0xaa)](this[_0x4b1fc4(0x83)]());}[a0_0x5d8e12(0x9a)](){const _0x24a9ca=a0_0x5d8e12,_0x31a183=this[_0x24a9ca(0x9b)],_0x344184=this[_0x24a9ca(0xb6)][_0x24a9ca(0xc1)]();return _0x31a183==0x0?0x0:0x1*_0x344184*_0x344184/_0x31a183;}[a0_0x5d8e12(0x83)](_0x738ed1){const _0x2a6a4c=a0_0x5d8e12;let _0x4560ea=_0x2a6a4c(0x99)+this[_0x2a6a4c(0xb6)][_0x2a6a4c(0xc1)]()+_0x2a6a4c(0x91)+this[_0x2a6a4c(0x9b)]+_0x2a6a4c(0xc0)+this['metric']()[_0x2a6a4c(0xb9)](0x3);if(_0x738ed1)_0x4560ea+='.\x20'+_0x738ed1;return _0x4560ea;}['keydown'](_0x150373){const _0x52392c=a0_0x5d8e12;let _0xe17006='';switch(_0x150373){case'ArrowLeft':case'ArrowRight':case _0x52392c(0x8b):case _0x52392c(0x84):this[_0x52392c(0xb6)][_0x52392c(0xac)](_0x150373,this[_0x52392c(0x94)],this[_0x52392c(0x93)][_0x52392c(0xa3)],this[_0x52392c(0x93)][_0x52392c(0xbb)]);break;case'Q':case'q':this[_0x52392c(0x92)]=!![];default:break;}!this[_0x52392c(0x92)]&&(this[_0x52392c(0xb6)]['willCrash'](this['grid'])?(this[_0x52392c(0x92)]=!![],_0xe17006=_0x52392c(0xa0)):(this[_0x52392c(0xb6)][_0x52392c(0xb5)](this[_0x52392c(0x94)]),this[_0x52392c(0xb6)]['headIntersects'](this[_0x52392c(0x93)][_0x52392c(0xa3)],this[_0x52392c(0x93)][_0x52392c(0xbb)])&&(this[_0x52392c(0xb6)][_0x52392c(0xb3)](this[_0x52392c(0x93)][_0x52392c(0xc5)]),this[_0x52392c(0xb6)][_0x52392c(0xc7)]=this['candy'][_0x52392c(0xc7)],this[_0x52392c(0xb6)]['drawChars'](this[_0x52392c(0x94)]),this[_0x52392c(0x93)]=Candy['randomCandy'](this[_0x52392c(0xb6)],this[_0x52392c(0x94)]['rowCount'],this[_0x52392c(0x94)][_0x52392c(0xaf)]),this[_0x52392c(0x93)]['draw'](this[_0x52392c(0x94)]))),this[_0x52392c(0x9b)]++,this[_0x52392c(0x94)][_0x52392c(0xaa)](this[_0x52392c(0x83)](_0xe17006))),this['grid']['setStatusLine'](this[_0x52392c(0x83)](_0xe17006));}}class ListNode{constructor(_0x231bde,_0x59ede5=null){const _0x46c181=a0_0x5d8e12;this[_0x46c181(0xa9)]=_0x231bde,this['next']=_0x59ede5;}}function a0_0x2e16(){const _0x4dc614=['ArrowUp','lime','yellow','pushBack','red','head','\x20Turns:\x20','gameOver','candy','grid','setSeed','47018JbkoWm','42469pjKmGO','assign','Length:\x20','metric','turnCount','703520FkvcaE','ArrowRight','seed','rand','Ouch,\x20my\x20nose!','360144PjYdpz','randBetween','row','181986cAuGJD','ArrowLeft','12lOlbsM','glyph','cout-lines','value','setStatusLine','577292VHQANN','steer','randomPosition','next','colCount','drawCharAt','headIntersects','orange','eat','263195WKqGzj','step','snake','popFront','intersects','toFixed','getElementById','col','white','tail','main-canvas','rowCount','.\x20Metric:\x20','length','randomCandy','dCol','draw','calories','dRow','color','statusString','ArrowDown','willCrash','headGlyph','randomColor','sleepTimeout','popBack','drawChars'];a0_0x2e16=function(){return _0x4dc614;};return a0_0x2e16();}class LinkedList{constructor(){const _0x1abf8d=a0_0x5d8e12;this[_0x1abf8d(0x90)]=null;}['pushFront'](_0x4311c9){const _0x3cd3a2=a0_0x5d8e12;this[_0x3cd3a2(0x90)]=new ListNode(_0x4311c9,this[_0x3cd3a2(0x90)]);}[a0_0x5d8e12(0xb7)](){const _0xa2cda0=a0_0x5d8e12;this[_0xa2cda0(0x90)]&&(this['head']=this[_0xa2cda0(0x90)][_0xa2cda0(0xae)]);}['pushBack'](_0x203f33){const _0x10d2f2=a0_0x5d8e12,_0x4ea1fe=this['tail'](),_0x1a9928=new ListNode(_0x203f33);_0x4ea1fe?_0x4ea1fe[_0x10d2f2(0xae)]=_0x1a9928:this['head']=_0x1a9928;}[a0_0x5d8e12(0x89)](){const _0x3855ee=a0_0x5d8e12,_0x2f801d=this[_0x3855ee(0xbd)]();if(_0x2f801d){if(this[_0x3855ee(0x90)]==_0x2f801d)this[_0x3855ee(0x90)]=null;else{let _0x110c45=this[_0x3855ee(0x90)];while(_0x110c45[_0x3855ee(0xae)]!=_0x2f801d)_0x110c45=_0x110c45[_0x3855ee(0xae)];_0x110c45[_0x3855ee(0xae)]=null;}}}[a0_0x5d8e12(0xbd)](){const _0x9bb042=a0_0x5d8e12;let _0x957554=null;for(let _0x3905fc=this[_0x9bb042(0x90)];_0x3905fc;_0x3905fc=_0x3905fc[_0x9bb042(0xae)]){_0x957554=_0x3905fc;}return _0x957554;}[a0_0x5d8e12(0xc1)](){const _0x4527f1=a0_0x5d8e12;let _0x49898c=0x0;for(let _0x408ebe=this[_0x4527f1(0x90)];_0x408ebe;_0x408ebe=_0x408ebe[_0x4527f1(0xae)]){_0x49898c++;}return _0x49898c;}}class Snake extends LinkedList{constructor(){const _0xd97d1a=a0_0x5d8e12;super(),this[_0xd97d1a(0xc5)]=0x0,this[_0xd97d1a(0xc7)]=_0xd97d1a(0xbc),this['glyph']='o',this[_0xd97d1a(0x86)]='@',this[_0xd97d1a(0xc6)]=0x0,this[_0xd97d1a(0xc3)]=0x1,this[_0xd97d1a(0x8e)]({'row':0x5,'col':0x5}),this['pushBack']({'row':0x5,'col':0x4}),this[_0xd97d1a(0x8e)]({'row':0x5,'col':0x3});}[a0_0x5d8e12(0x85)](_0x45ed0c){const _0x10cff3=a0_0x5d8e12,_0x292c66=this[_0x10cff3(0x90)]['value'][_0x10cff3(0xa3)]+this[_0x10cff3(0xc6)],_0x1f40ec=this[_0x10cff3(0x90)][_0x10cff3(0xa9)]['col']+this['dCol'],_0x501267=_0x292c66>=0x0&&_0x292c66<_0x45ed0c[_0x10cff3(0xbf)]&&_0x1f40ec>=0x0&&_0x1f40ec<_0x45ed0c[_0x10cff3(0xaf)];return!_0x501267||this['intersects'](_0x292c66,_0x1f40ec);}[a0_0x5d8e12(0xb1)](_0x1f5ffa,_0x261e56){const _0x2bd71f=a0_0x5d8e12;return this[_0x2bd71f(0x90)][_0x2bd71f(0xa9)]['row']==_0x1f5ffa&&this[_0x2bd71f(0x90)][_0x2bd71f(0xa9)]['col']==_0x261e56;}[a0_0x5d8e12(0xb8)](_0x6a3d90,_0x54428d){const _0x59b170=a0_0x5d8e12;let _0x5e5d5e=![],_0x54692e=this[_0x59b170(0x90)];while(_0x54692e){if(_0x54692e[_0x59b170(0xa9)][_0x59b170(0xa3)]==_0x6a3d90&&_0x54692e[_0x59b170(0xa9)][_0x59b170(0xbb)]==_0x54428d){_0x5e5d5e=!![];break;}_0x54692e=_0x54692e[_0x59b170(0xae)];}return _0x5e5d5e;}[a0_0x5d8e12(0x8a)](_0x519c3d){const _0x12ad1f=a0_0x5d8e12;let _0x52d666=this[_0x12ad1f(0x86)];for(let _0x3db0ce=this[_0x12ad1f(0x90)];_0x3db0ce;_0x3db0ce=_0x3db0ce[_0x12ad1f(0xae)]){_0x519c3d[_0x12ad1f(0xb0)](_0x3db0ce['value']['row'],_0x3db0ce[_0x12ad1f(0xa9)]['col'],_0x52d666,this[_0x12ad1f(0xc7)]),_0x52d666=this['glyph'];}}[a0_0x5d8e12(0xac)](_0xa895d8,_0x4d21e0,_0x1618a6,_0x3abb41){const _0x125c7c=a0_0x5d8e12;this[_0x125c7c(0xc6)]=0x0,this[_0x125c7c(0xc3)]=0x0;switch(_0xa895d8){case _0x125c7c(0xa5):this[_0x125c7c(0xc3)]=-0x1;break;case _0x125c7c(0x9d):this['dCol']=0x1;break;case'ArrowUp':this[_0x125c7c(0xc6)]=-0x1;break;case _0x125c7c(0x84):this[_0x125c7c(0xc6)]=0x1;break;default:break;}}[a0_0x5d8e12(0xb5)](_0x588fc5){const _0x1edb8a=a0_0x5d8e12;let _0x2183f5=this[_0x1edb8a(0x90)][_0x1edb8a(0xa9)]['row']+this[_0x1edb8a(0xc6)],_0x31fb54=this[_0x1edb8a(0x90)][_0x1edb8a(0xa9)][_0x1edb8a(0xbb)]+this[_0x1edb8a(0xc3)];_0x588fc5[_0x1edb8a(0xb0)](this[_0x1edb8a(0x90)][_0x1edb8a(0xa9)]['row'],this[_0x1edb8a(0x90)][_0x1edb8a(0xa9)][_0x1edb8a(0xbb)],this[_0x1edb8a(0xa7)],this[_0x1edb8a(0xc7)]),this['pushFront']({'row':_0x2183f5,'col':_0x31fb54}),_0x588fc5[_0x1edb8a(0xb0)](_0x2183f5,_0x31fb54,this[_0x1edb8a(0x86)],this[_0x1edb8a(0xc7)]);if(this[_0x1edb8a(0xc5)]>0x0)this[_0x1edb8a(0xc5)]--;else{const _0x33956a=this[_0x1edb8a(0xbd)]();_0x588fc5['eraseCharAt'](_0x33956a['value'][_0x1edb8a(0xa3)],_0x33956a[_0x1edb8a(0xa9)][_0x1edb8a(0xbb)]),this['popBack']();}}[a0_0x5d8e12(0xb3)](_0x4e6435){const _0x152703=a0_0x5d8e12;this[_0x152703(0xc5)]+=_0x4e6435;}}class Candy{constructor(_0x4370b1){const _0xec0e04=a0_0x5d8e12;Object[_0xec0e04(0x98)](this,_0x4370b1);}static[a0_0x5d8e12(0xc2)](_0x496636,_0x219716,_0x141ca6){const _0x22fdbe=a0_0x5d8e12,{row:_0x2b7d0f,col:_0x78e65d}=this['randomPosition'](_0x496636,_0x219716,_0x141ca6),_0x3eb622=this[_0x22fdbe(0x87)](),_0x231f62=Random['randBetween'](0x1,0xa),_0x1ee8b1=''+_0x231f62;return new Candy({'row':_0x2b7d0f,'col':_0x78e65d,'calories':_0x231f62,'glyph':_0x1ee8b1,'color':_0x3eb622});}static[a0_0x5d8e12(0xad)](_0x3022ce,_0x2e6877,_0x5ee7ee){const _0x576296=a0_0x5d8e12;let _0x34c169,_0x12a227;do{_0x34c169=Random[_0x576296(0xa2)](0x0,_0x2e6877),_0x12a227=Random['randBetween'](0x0,_0x5ee7ee);}while(_0x3022ce['intersects'](_0x34c169,_0x12a227));return{'row':_0x34c169,'col':_0x12a227};}static[a0_0x5d8e12(0x87)](){const _0x193885=a0_0x5d8e12,_0x14c87a=[_0x193885(0x8f),_0x193885(0x8c),_0x193885(0x8d),'cyan','magenta',_0x193885(0xb2),'pink'];return _0x14c87a[Random['randBetween'](0x0,_0x14c87a['length'])];}[a0_0x5d8e12(0xc4)](_0x8bb9b4){const _0x1005d3=a0_0x5d8e12;_0x8bb9b4['drawCharAt'](this['row'],this[_0x1005d3(0xbb)],this[_0x1005d3(0xa7)],this[_0x1005d3(0xc7)]);}}class RandANSI{constructor(_0xd1a5dc=0x1){const _0x2cd021=a0_0x5d8e12;this[_0x2cd021(0x9e)]=_0xd1a5dc;}[a0_0x5d8e12(0x95)](_0x39f6ad){const _0x5eb1c1=a0_0x5d8e12;this[_0x5eb1c1(0x9e)]=_0x39f6ad;}['rand'](){const _0x5f4092=a0_0x5d8e12;return(this[_0x5f4092(0x9e)]=Number((BigInt(this[_0x5f4092(0x9e)])*0x41c64e6dn+0x3039n)%0x80000000n))>>0x10&0x7fff;}[a0_0x5d8e12(0xa2)](_0x3db790,_0x1f31c7){const _0x35da78=a0_0x5d8e12;return _0x3db790+this[_0x35da78(0x9f)]()%(_0x1f31c7-_0x3db790);}}const Random=new RandANSI();