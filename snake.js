const a0_0x317ede=a0_0x1ca2;(function(_0x4568fd,_0x4deb3d){const _0x23e6fd=a0_0x1ca2,_0x521bd7=_0x4568fd();while(!![]){try{const _0x3deb32=parseInt(_0x23e6fd(0x1eb))/0x1+-parseInt(_0x23e6fd(0x1ed))/0x2+-parseInt(_0x23e6fd(0x1de))/0x3+-parseInt(_0x23e6fd(0x1c5))/0x4+-parseInt(_0x23e6fd(0x1ca))/0x5+-parseInt(_0x23e6fd(0x1f7))/0x6*(parseInt(_0x23e6fd(0x1e4))/0x7)+parseInt(_0x23e6fd(0x1e6))/0x8;if(_0x3deb32===_0x4deb3d)break;else _0x521bd7['push'](_0x521bd7['shift']());}catch(_0x3265c0){_0x521bd7['push'](_0x521bd7['shift']());}}}(a0_0x2ed4,0x84146));import{ConsoleGrid,Cout}from'./console-grid.js';export class SnakeApp{constructor(){const _0x514643=a0_0x1ca2,_0x10a34b={'canvas':document[_0x514643(0x1df)](_0x514643(0x1c3)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x514643(0x1c4)]=0x64,this[_0x514643(0x1fe)]=new ConsoleGrid(_0x10a34b);const _0x6131a6=document['getElementById'](_0x514643(0x1fa));this[_0x514643(0x1b7)]=new Cout(_0x6131a6),this[_0x514643(0x1f9)]=0x0,this[_0x514643(0x1fd)]=![],this[_0x514643(0x1bc)]=new Snake(),this[_0x514643(0x1bc)][_0x514643(0x1f5)](this[_0x514643(0x1fe)]),Candy['seedRandom'](),this[_0x514643(0x1ee)]=Candy['randomCandy'](this[_0x514643(0x1bc)],this[_0x514643(0x1fe)][_0x514643(0x1db)],this[_0x514643(0x1fe)]['colCount']),this[_0x514643(0x1ee)][_0x514643(0x1d4)](this[_0x514643(0x1fe)]),this[_0x514643(0x1fe)][_0x514643(0x1c1)](this['statusString']());}[a0_0x317ede(0x1c6)](){const _0x2674f6=a0_0x317ede,_0x369506=this[_0x2674f6(0x1f9)],_0x3634ce=this['snake'][_0x2674f6(0x1e9)]();return _0x369506==0x0?0x0:0x1*_0x3634ce*_0x3634ce/_0x369506;}[a0_0x317ede(0x1cb)](_0x431b3b){const _0x21ca63=a0_0x317ede;let _0x478e3e=_0x21ca63(0x1dc)+this[_0x21ca63(0x1bc)][_0x21ca63(0x1e9)]()+'\x20Turns:\x20'+this[_0x21ca63(0x1f9)]+'.\x20Metric:\x20'+this[_0x21ca63(0x1c6)]()[_0x21ca63(0x1da)](0x3);if(_0x431b3b)_0x478e3e+='.\x20'+_0x431b3b;return _0x478e3e;}['keydown'](_0x33fbf6){const _0x449a4a=a0_0x317ede;let _0x2d9ac9='';switch(_0x33fbf6){case _0x449a4a(0x1be):case _0x449a4a(0x1f0):case _0x449a4a(0x1d3):case _0x449a4a(0x1d2):this[_0x449a4a(0x1bc)][_0x449a4a(0x1f3)](_0x33fbf6,this[_0x449a4a(0x1fe)],this[_0x449a4a(0x1ee)][_0x449a4a(0x1d5)],this[_0x449a4a(0x1ee)]['col']);break;case'Q':case'q':this['gameOver']=!![];default:break;}!this[_0x449a4a(0x1fd)]&&(this[_0x449a4a(0x1bc)][_0x449a4a(0x1f4)](this[_0x449a4a(0x1fe)])?(this[_0x449a4a(0x1fd)]=!![],_0x2d9ac9=_0x449a4a(0x1e8)):(this[_0x449a4a(0x1bc)][_0x449a4a(0x1cc)](this[_0x449a4a(0x1fe)]),this[_0x449a4a(0x1bc)][_0x449a4a(0x1cd)](this['candy'][_0x449a4a(0x1d5)],this['candy'][_0x449a4a(0x1e5)])&&(this[_0x449a4a(0x1bc)]['eat'](this['candy'][_0x449a4a(0x1d1)]),this[_0x449a4a(0x1bc)][_0x449a4a(0x1fc)]=this['candy'][_0x449a4a(0x1fc)],this[_0x449a4a(0x1bc)][_0x449a4a(0x1f5)](this['grid']),this[_0x449a4a(0x1ee)]=Candy[_0x449a4a(0x1e2)](this['snake'],this[_0x449a4a(0x1fe)][_0x449a4a(0x1db)],this[_0x449a4a(0x1fe)]['colCount']),this[_0x449a4a(0x1ee)][_0x449a4a(0x1d4)](this[_0x449a4a(0x1fe)]))),this[_0x449a4a(0x1f9)]++,this['grid'][_0x449a4a(0x1c1)](this[_0x449a4a(0x1cb)](_0x2d9ac9))),this[_0x449a4a(0x1fe)][_0x449a4a(0x1c1)](this[_0x449a4a(0x1cb)](_0x2d9ac9));}}class ListNode{constructor(_0x267421,_0x1fa514=null){const _0x1ecb08=a0_0x317ede;this[_0x1ecb08(0x1e1)]=_0x267421,this[_0x1ecb08(0x1ec)]=_0x1fa514;}}function a0_0x1ca2(_0x45a77d,_0x162e72){const _0x2ed470=a0_0x2ed4();return a0_0x1ca2=function(_0x1ca280,_0x299025){_0x1ca280=_0x1ca280-0x1b7;let _0x4bc344=_0x2ed470[_0x1ca280];return _0x4bc344;},a0_0x1ca2(_0x45a77d,_0x162e72);}class LinkedList{constructor(){const _0x56bee7=a0_0x317ede;this[_0x56bee7(0x1c7)]=null;}[a0_0x317ede(0x1cf)](_0x504521){const _0x3cf443=a0_0x317ede;this[_0x3cf443(0x1c7)]=new ListNode(_0x504521,this[_0x3cf443(0x1c7)]);}['popFront'](){const _0x241869=a0_0x317ede;this[_0x241869(0x1c7)]&&(this['head']=this[_0x241869(0x1c7)]['next']);}['pushBack'](_0x395136){const _0x1ad1bf=a0_0x317ede,_0x2263b4=this[_0x1ad1bf(0x1c8)](),_0x8b60c8=new ListNode(_0x395136);_0x2263b4?_0x2263b4[_0x1ad1bf(0x1ec)]=_0x8b60c8:this['head']=_0x8b60c8;}[a0_0x317ede(0x1bd)](){const _0x3f2c15=a0_0x317ede,_0x32d7ed=this['tail']();if(_0x32d7ed){if(this[_0x3f2c15(0x1c7)]==_0x32d7ed)this[_0x3f2c15(0x1c7)]=null;else{let _0x33a71e=this[_0x3f2c15(0x1c7)];while(_0x33a71e['next']!=_0x32d7ed)_0x33a71e=_0x33a71e['next'];_0x33a71e[_0x3f2c15(0x1ec)]=null;}}}[a0_0x317ede(0x1c8)](){const _0x581176=a0_0x317ede;let _0x4ea5e4=null;for(let _0x32bf67=this[_0x581176(0x1c7)];_0x32bf67;_0x32bf67=_0x32bf67[_0x581176(0x1ec)]){_0x4ea5e4=_0x32bf67;}return _0x4ea5e4;}['length'](){const _0xd8bba8=a0_0x317ede;let _0x2d5c6b=0x0;for(let _0xa5eb11=this[_0xd8bba8(0x1c7)];_0xa5eb11;_0xa5eb11=_0xa5eb11[_0xd8bba8(0x1ec)]){_0x2d5c6b++;}return _0x2d5c6b;}}class Snake extends LinkedList{constructor(){const _0x5a9903=a0_0x317ede;super(),this[_0x5a9903(0x1d1)]=0x0,this[_0x5a9903(0x1fc)]=_0x5a9903(0x1ba),this[_0x5a9903(0x1ea)]='o',this[_0x5a9903(0x1d6)]='@',this[_0x5a9903(0x1d9)]=0x0,this['dCol']=0x1,this[_0x5a9903(0x1d0)]({'row':0x5,'col':0x5}),this[_0x5a9903(0x1d0)]({'row':0x5,'col':0x4}),this[_0x5a9903(0x1d0)]({'row':0x5,'col':0x3});}[a0_0x317ede(0x1f4)](_0x7472c3){const _0x198744=a0_0x317ede,_0xb856e3=this[_0x198744(0x1c7)][_0x198744(0x1e1)]['row']+this['dRow'],_0x3fb09a=this[_0x198744(0x1c7)][_0x198744(0x1e1)][_0x198744(0x1e5)]+this[_0x198744(0x1c9)],_0x21a8b3=_0xb856e3>=0x0&&_0xb856e3<_0x7472c3[_0x198744(0x1db)]&&_0x3fb09a>=0x0&&_0x3fb09a<_0x7472c3[_0x198744(0x1fb)];return!_0x21a8b3||this['intersects'](_0xb856e3,_0x3fb09a);}[a0_0x317ede(0x1cd)](_0x12061a,_0x50a26a){const _0xe4a8af=a0_0x317ede;return this['head'][_0xe4a8af(0x1e1)][_0xe4a8af(0x1d5)]==_0x12061a&&this['head'][_0xe4a8af(0x1e1)][_0xe4a8af(0x1e5)]==_0x50a26a;}['intersects'](_0x347a00,_0x3bce6a){const _0x122de3=a0_0x317ede;let _0x77d119=![],_0x5709ca=this[_0x122de3(0x1c7)];while(_0x5709ca){if(_0x5709ca['value'][_0x122de3(0x1d5)]==_0x347a00&&_0x5709ca[_0x122de3(0x1e1)]['col']==_0x3bce6a){_0x77d119=!![];break;}_0x5709ca=_0x5709ca[_0x122de3(0x1ec)];}return _0x77d119;}[a0_0x317ede(0x1f5)](_0x4a7708){const _0xf683ff=a0_0x317ede;let _0x155383=this[_0xf683ff(0x1d6)];for(let _0x1cf858=this[_0xf683ff(0x1c7)];_0x1cf858;_0x1cf858=_0x1cf858['next']){_0x4a7708[_0xf683ff(0x1c2)](_0x1cf858[_0xf683ff(0x1e1)]['row'],_0x1cf858['value']['col'],_0x155383,this[_0xf683ff(0x1fc)]),_0x155383=this[_0xf683ff(0x1ea)];}}['steer'](_0x483d7c,_0xc9ee68,_0x44ff6a,_0x24e68d){const _0x12119d=a0_0x317ede;this[_0x12119d(0x1d9)]=0x0,this['dCol']=0x0;switch(_0x483d7c){case _0x12119d(0x1be):this['dCol']=-0x1;break;case _0x12119d(0x1f0):this[_0x12119d(0x1c9)]=0x1;break;case _0x12119d(0x1d3):this[_0x12119d(0x1d9)]=-0x1;break;case'ArrowDown':this[_0x12119d(0x1d9)]=0x1;break;default:break;}}['step'](_0x2b0504){const _0x17dba2=a0_0x317ede;let _0x107f44=this[_0x17dba2(0x1c7)]['value']['row']+this[_0x17dba2(0x1d9)],_0x4ddc89=this[_0x17dba2(0x1c7)][_0x17dba2(0x1e1)]['col']+this[_0x17dba2(0x1c9)];_0x2b0504[_0x17dba2(0x1c2)](this['head'][_0x17dba2(0x1e1)]['row'],this[_0x17dba2(0x1c7)][_0x17dba2(0x1e1)][_0x17dba2(0x1e5)],this[_0x17dba2(0x1ea)],this[_0x17dba2(0x1fc)]),this['pushFront']({'row':_0x107f44,'col':_0x4ddc89}),_0x2b0504['drawCharAt'](_0x107f44,_0x4ddc89,this[_0x17dba2(0x1d6)],this[_0x17dba2(0x1fc)]);if(this['calories']>0x0)this[_0x17dba2(0x1d1)]--;else{const _0x2a2697=this[_0x17dba2(0x1c8)]();_0x2b0504['eraseCharAt'](_0x2a2697[_0x17dba2(0x1e1)]['row'],_0x2a2697[_0x17dba2(0x1e1)][_0x17dba2(0x1e5)]),this['popBack']();}}[a0_0x317ede(0x1e3)](_0x50fbeb){this['calories']+=_0x50fbeb;}}class Candy{static[a0_0x317ede(0x1ce)](){const _0x45db45=a0_0x317ede;this[_0x45db45(0x1e7)]=new RandANSI();}constructor(_0x5d842a){const _0x46ee0d=a0_0x317ede;Object[_0x46ee0d(0x1ef)](this,_0x5d842a);}static[a0_0x317ede(0x1e2)](_0x33ab93,_0x407266,_0x5ca299){const _0x56ea10=a0_0x317ede,{row:_0x25d952,col:_0x1c6911}=this[_0x56ea10(0x1d7)](_0x33ab93,_0x407266,_0x5ca299),_0x13eafa=this[_0x56ea10(0x1c0)](),_0x41b0b3=Candy['Random'][_0x56ea10(0x1f8)](0x1,0xa),_0x3debec=''+_0x41b0b3;return new Candy({'row':_0x25d952,'col':_0x1c6911,'calories':_0x41b0b3,'glyph':_0x3debec,'color':_0x13eafa});}static['randomPosition'](_0x30ee3a,_0xde483f,_0x4d7e68){const _0x33744f=a0_0x317ede;let _0x4a2328,_0x4d1c83;do{_0x4a2328=Candy[_0x33744f(0x1e7)][_0x33744f(0x1f8)](0x0,_0xde483f),_0x4d1c83=Candy[_0x33744f(0x1e7)][_0x33744f(0x1f8)](0x0,_0x4d7e68);}while(_0x30ee3a[_0x33744f(0x1bf)](_0x4a2328,_0x4d1c83));return{'row':_0x4a2328,'col':_0x4d1c83};}static[a0_0x317ede(0x1c0)](){const _0x1351c2=a0_0x317ede,_0x89f589=[_0x1351c2(0x1e0),_0x1351c2(0x1b8),_0x1351c2(0x1f1),_0x1351c2(0x1bb),'magenta',_0x1351c2(0x1d8),_0x1351c2(0x1f2)];return _0x89f589[Candy[_0x1351c2(0x1e7)]['randBetween'](0x0,_0x89f589['length'])];}[a0_0x317ede(0x1d4)](_0x4a3a5c){const _0x1e6da8=a0_0x317ede;_0x4a3a5c[_0x1e6da8(0x1c2)](this[_0x1e6da8(0x1d5)],this[_0x1e6da8(0x1e5)],this[_0x1e6da8(0x1ea)],this[_0x1e6da8(0x1fc)]);}}class RandANSI{constructor(_0x5a7f3f=0x1){const _0x2b9fa4=a0_0x317ede;this[_0x2b9fa4(0x1f6)]=_0x5a7f3f;}[a0_0x317ede(0x1b9)](_0x469033){this['seed']=_0x469033;}[a0_0x317ede(0x1dd)](){const _0x496691=a0_0x317ede;return(this[_0x496691(0x1f6)]=Number((BigInt(this[_0x496691(0x1f6)])*0x41c64e6dn+0x3039n)%0x80000000n))>>0x10&0x7fff;}['randBetween'](_0x175ef5,_0x9669b7){const _0xb46dd3=a0_0x317ede;return _0x175ef5+this[_0xb46dd3(0x1dd)]()%(_0x9669b7-_0x175ef5);}}function a0_0x2ed4(){const _0x36fb73=['sleepTimeout','3265796SyhGZk','metric','head','tail','dCol','765915jCJNRq','statusString','step','headIntersects','seedRandom','pushFront','pushBack','calories','ArrowDown','ArrowUp','draw','row','headGlyph','randomPosition','orange','dRow','toFixed','rowCount','Length:\x20','rand','698778GdwwvT','getElementById','red','value','randomCandy','eat','7VVMQfT','col','18752696uHqcEX','Random','Ouch,\x20my\x20nose!','length','glyph','721409LcHCmA','next','1417854YkUpRT','candy','assign','ArrowRight','yellow','pink','steer','willCrash','drawChars','seed','3678078ukwkAV','randBetween','turnCount','cout-lines','colCount','color','gameOver','grid','cout','lime','setSeed','white','cyan','snake','popBack','ArrowLeft','intersects','randomColor','setStatusLine','drawCharAt','main-canvas'];a0_0x2ed4=function(){return _0x36fb73;};return a0_0x2ed4();}