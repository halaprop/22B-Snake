const a0_0x2fd280=a0_0x4480;function a0_0x4480(_0x1a8257,_0x455a24){const _0x484535=a0_0x4845();return a0_0x4480=function(_0x44805d,_0x36baeb){_0x44805d=_0x44805d-0xaf;let _0x769245=_0x484535[_0x44805d];return _0x769245;},a0_0x4480(_0x1a8257,_0x455a24);}(function(_0xfeb3ca,_0x525207){const _0x1c44f4=a0_0x4480,_0x59efb9=_0xfeb3ca();while(!![]){try{const _0x5b9d1d=parseInt(_0x1c44f4(0xde))/0x1*(-parseInt(_0x1c44f4(0xcd))/0x2)+-parseInt(_0x1c44f4(0xdd))/0x3+-parseInt(_0x1c44f4(0xbc))/0x4*(parseInt(_0x1c44f4(0xc7))/0x5)+parseInt(_0x1c44f4(0xca))/0x6*(parseInt(_0x1c44f4(0xb4))/0x7)+-parseInt(_0x1c44f4(0xc6))/0x8+-parseInt(_0x1c44f4(0xb9))/0x9*(-parseInt(_0x1c44f4(0xaf))/0xa)+-parseInt(_0x1c44f4(0xc2))/0xb*(-parseInt(_0x1c44f4(0xb8))/0xc);if(_0x5b9d1d===_0x525207)break;else _0x59efb9['push'](_0x59efb9['shift']());}catch(_0x3aac9f){_0x59efb9['push'](_0x59efb9['shift']());}}}(a0_0x4845,0x8a680));function a0_0x4845(){const _0x28a894=['entries','24BCzWMk','setItem','all','2UyBHuX','/get','search','keysPaged','message','\x20â†’\x20ERROR:\x20','application/json','https://remote-storage.dan-5d7.workers.dev/v1','/getWithMetadata','stringify','requestHeaders','getNamespace','POST','catch','GET','map','32868pFchLu','649214bpAwce','startsWith','removeItem','append','list','name','DELETE','log','namespace','789470rfozXU','token','/list','unknown\x20error','body','1253623xexwpc','some','push','/delete','1018224ztOLAK','126oDPHUm','/set','getItem','610884zRdFVE','getItemWithMetadata','json','toString','clear','endpoint','22KeFZsC','keys','length','apiFetch','5048XTBPUp','25DGXTET','filter'];a0_0x4845=function(){return _0x28a894;};return a0_0x4845();}export class RemoteStorage{constructor(_0x110765,_0x1f8596){const _0x2b4992=a0_0x4480;this[_0x2b4992(0xe6)]=_0x110765,this[_0x2b4992(0xc1)]=_0x2b4992(0xd4),this['requestHeaders']={'Authorization':_0x1f8596,'Content-Type':_0x2b4992(0xd3)};}async['login'](_0xeb116,_0xf60eda){const _0x2542e1=a0_0x4480,_0x267c69=await fetch(this[_0x2542e1(0xc1)]+'/login',{'method':_0x2542e1(0xd9),'headers':{'Content-Type':'application/json'},'body':JSON[_0x2542e1(0xd6)]({'userID':_0xeb116,'password':_0xf60eda})});if(_0x267c69['status']!=0xc8)throw{'error':_0x2542e1(0xb2)};const _0x5a8a0f=await _0x267c69[_0x2542e1(0xbe)]()[_0x2542e1(0xda)](()=>({})),_0x572902=_0x5a8a0f[_0x2542e1(0xb0)];return this[_0x2542e1(0xd7)]={'Authorization':_0x572902,'Content-Type':_0x2542e1(0xd3)},_0x572902;}async[a0_0x2fd280(0xc3)](){const _0x4c5275=a0_0x2fd280;let _0x4027cf=[],_0x125786=null;while(!![]){const {keys:_0x1972a2,cursor:_0x38e76a,list_complete:_0x3681eb}=await this[_0x4c5275(0xd0)]({'cursor':_0x125786});_0x4027cf[_0x4c5275(0xb6)](..._0x1972a2);if(_0x3681eb)break;_0x125786=_0x38e76a;}return _0x4027cf;}async[a0_0x2fd280(0xd0)]({limit:limit=0x3e8,cursor:_0xf4bfa3=null}={}){const _0x41d4f7=a0_0x2fd280,{items:_0x33af4d,cursor:_0x2881ba,list_complete:_0x2d3ac6}=await this[_0x41d4f7(0xe2)]({'limit':limit,'cursor':_0xf4bfa3}),_0x2f1632=_0x33af4d[_0x41d4f7(0xdc)](_0x2c8764=>_0x2c8764[_0x41d4f7(0xe3)]);return{'keys':_0x2f1632,'cursor':_0x2881ba,'list_complete':_0x2d3ac6};}async[a0_0x2fd280(0xd8)](..._0x780484){const _0x309bd5=a0_0x2fd280,_0x2ab904={};let _0x9bd129=null;while(!![]){const {items:_0x426dc0,cursor:_0x4bdce6,list_complete:_0x25496f}=await this[_0x309bd5(0xe2)]({'cursor':_0x9bd129}),_0xa25899=_0x780484[_0x309bd5(0xc4)]?_0x426dc0[_0x309bd5(0xc8)](_0xf21a0b=>_0x780484[_0x309bd5(0xb5)](_0x3fdc27=>_0xf21a0b[_0x309bd5(0xe3)][_0x309bd5(0xdf)](_0x3fdc27))):_0x426dc0,_0x177527=_0xa25899[_0x309bd5(0xdc)](async({name:_0x255e49,metadata:_0x5df30d})=>{const _0x3889ac=_0x309bd5,_0x246d10=await this[_0x3889ac(0xbb)](_0x255e49);_0x2ab904[_0x255e49]={'value':_0x246d10,'metadata':_0x5df30d};});await Promise[_0x309bd5(0xcc)](_0x177527);if(_0x25496f)break;_0x9bd129=_0x4bdce6;}return _0x2ab904;}async[a0_0x2fd280(0xe2)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x16423d=a0_0x2fd280;return this['apiFetch'](_0x16423d(0xdb),_0x16423d(0xb1),null,{'limit':limit,'cursor':cursor});}async[a0_0x2fd280(0xcb)](_0x3f44c7,_0x2b1a01){const _0x14f29a=a0_0x2fd280;return this[_0x14f29a(0xc5)]('POST',_0x14f29a(0xba),{'key':_0x3f44c7,'value':_0x2b1a01});}async['getItem'](_0x394cdc){const _0x25e896=a0_0x2fd280;return this[_0x25e896(0xc5)](_0x25e896(0xdb),_0x25e896(0xce),null,{'key':_0x394cdc});}async[a0_0x2fd280(0xbd)](_0x53b35b){const _0x6d5e7d=a0_0x2fd280;return this['apiFetch'](_0x6d5e7d(0xdb),_0x6d5e7d(0xd5),null,{'key':_0x53b35b});}async[a0_0x2fd280(0xe0)](_0x173c25){const _0x3d666f=a0_0x2fd280;return this[_0x3d666f(0xc5)](_0x3d666f(0xe4),_0x3d666f(0xb7),null,{'key':_0x173c25});}async[a0_0x2fd280(0xc0)](){const _0x1a634d=a0_0x2fd280,_0x384b28=await this['keys'](),_0xa5fe56=_0x384b28[_0x1a634d(0xdc)](_0x4cdcec=>this[_0x1a634d(0xe0)](_0x4cdcec));return await Promise[_0x1a634d(0xcc)](_0xa5fe56),null;}async['apiFetch'](_0x50d1c9,_0x248084,_0x3f660b=null,_0x4f74fb={}){const _0x7529f3=a0_0x2fd280;_0x4f74fb={..._0x4f74fb,'namespace':this['namespace']};let _0x546637=new URL(''+this['endpoint']+_0x248084);const _0x57b99e=new URLSearchParams();for(const [_0x357965,_0x310092]of Object[_0x7529f3(0xc9)](_0x4f74fb)){_0x310092!==undefined&&_0x310092!==null&&_0x57b99e[_0x7529f3(0xe1)](_0x357965,_0x310092);}_0x546637[_0x7529f3(0xcf)]=_0x57b99e[_0x7529f3(0xbf)]();const _0x18f329={'method':_0x50d1c9,'headers':this['requestHeaders']};if(_0x3f660b)_0x18f329[_0x7529f3(0xb3)]=JSON[_0x7529f3(0xd6)](_0x3f660b);try{const _0x2c57b1=await fetch(_0x546637,_0x18f329),_0x30bdd6=await _0x2c57b1[_0x7529f3(0xbe)]();if(!_0x2c57b1['ok'])throw{'error':_0x30bdd6};return _0x30bdd6;}catch(_0x4d25a3){console[_0x7529f3(0xe5)](_0x50d1c9+'\x20'+_0x546637+_0x7529f3(0xd2)+_0x4d25a3[_0x7529f3(0xd1)]);throw _0x4d25a3;}}}