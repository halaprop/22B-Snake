const a0_0x1f685e=a0_0x4d2b;function a0_0x4931(){const _0x413768=['log','name','application/json','/getWithMetadata','fetch','message','/delete','requestHeaders','/list','stringify','clear','all','/set','length','map','6ngGCuo','endpoint','push','GET','namespace','https://remote-storage.dan-5d7.workers.dev/v1','14182718kSwGYG','append','keys','1158873dmnLuD','10rWyxKx','getItem','entries','list','362553cgIsIL','removeItem','11803095WuCUEg','105608DzVxvD','1259308uehJTc','22qrbXYk','DELETE','startsWith','2183145vJLoXA','/get','POST','469bezZOI','getItemWithMetadata'];a0_0x4931=function(){return _0x413768;};return a0_0x4931();}function a0_0x4d2b(_0x551867,_0x13a791){const _0x4931d5=a0_0x4931();return a0_0x4d2b=function(_0x4d2b16,_0x5f19e1){_0x4d2b16=_0x4d2b16-0xee;let _0x244cb0=_0x4931d5[_0x4d2b16];return _0x244cb0;},a0_0x4d2b(_0x551867,_0x13a791);}(function(_0x5d5c93,_0x3fc075){const _0x513f59=a0_0x4d2b,_0x4020a=_0x5d5c93();while(!![]){try{const _0xf53b0a=parseInt(_0x513f59(0x107))/0x1+parseInt(_0x513f59(0x111))/0x2*(-parseInt(_0x513f59(0x10c))/0x3)+-parseInt(_0x513f59(0x110))/0x4+-parseInt(_0x513f59(0x114))/0x5*(-parseInt(_0x513f59(0xfe))/0x6)+-parseInt(_0x513f59(0x117))/0x7*(-parseInt(_0x513f59(0x10f))/0x8)+parseInt(_0x513f59(0x10e))/0x9*(-parseInt(_0x513f59(0x108))/0xa)+parseInt(_0x513f59(0x104))/0xb;if(_0xf53b0a===_0x3fc075)break;else _0x4020a['push'](_0x4020a['shift']());}catch(_0x375ea5){_0x4020a['push'](_0x4020a['shift']());}}}(a0_0x4931,0xc6a60));export class RemoteStorage{constructor(_0x365aab,_0x2111d6){const _0x302154=a0_0x4d2b;this['namespace']=_0x365aab,this[_0x302154(0xff)]=_0x302154(0x103),this[_0x302154(0xf6)]={'Authorization':_0x2111d6,'Content-Type':_0x302154(0xf1)};}async[a0_0x1f685e(0x106)](){const _0x1ce6e3=a0_0x1f685e;let _0x30e9c3=[],_0x422374=null;while(!![]){const {keys:_0x31c1ce,cursor:_0x24a43a,list_complete:_0x1e28fe}=await this['keysPaged']({'cursor':_0x422374});_0x30e9c3[_0x1ce6e3(0x100)](..._0x31c1ce);if(_0x1e28fe)break;_0x422374=_0x24a43a;}return _0x30e9c3;}async['keysPaged']({limit:limit=0x3e8,cursor:_0x1f9e55=null}={}){const _0xcb7dd2=a0_0x1f685e,{items:_0x27c31b,cursor:_0xf5ba2c,list_complete:_0x5b0766}=await this[_0xcb7dd2(0x10b)]({'limit':limit,'cursor':_0x1f9e55}),_0x44bec3=_0x27c31b[_0xcb7dd2(0xfd)](_0x3b6ff7=>_0x3b6ff7[_0xcb7dd2(0xf0)]);return{'keys':_0x44bec3,'cursor':_0xf5ba2c,'list_complete':_0x5b0766};}async['getNamespace'](..._0x2f1ef8){const _0x2545af=a0_0x1f685e,_0x25f475={};let _0x11854f=null;while(!![]){const {items:_0x42cf3d,cursor:_0x519155,list_complete:_0x189d28}=await this[_0x2545af(0x10b)]({'cursor':_0x11854f}),_0x107649=_0x2f1ef8[_0x2545af(0xfc)]?_0x42cf3d['filter'](_0x14b064=>_0x2f1ef8['some'](_0x55191f=>_0x14b064['name'][_0x2545af(0x113)](_0x55191f))):_0x42cf3d,_0x163d78=_0x107649[_0x2545af(0xfd)](async({name:_0x374049,metadata:_0xbe9278})=>{const _0x17dba9=_0x2545af,_0x4cbf1d=await this[_0x17dba9(0x109)](_0x374049);_0x25f475[_0x374049]={'value':_0x4cbf1d,'metadata':_0xbe9278};});await Promise[_0x2545af(0xfa)](_0x163d78);if(_0x189d28)break;_0x11854f=_0x519155;}return _0x25f475;}async[a0_0x1f685e(0x10b)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x514873=a0_0x1f685e;return this[_0x514873(0xf3)]('GET',_0x514873(0xf7),null,{'limit':limit,'cursor':cursor});}async['setItem'](_0x26f8e0,_0x150cd6){const _0x469dcd=a0_0x1f685e;return this[_0x469dcd(0xf3)](_0x469dcd(0x116),_0x469dcd(0xfb),{'key':_0x26f8e0,'value':_0x150cd6});}async[a0_0x1f685e(0x109)](_0x304f06){const _0x277af9=a0_0x1f685e;return this['fetch']('GET',_0x277af9(0x115),null,{'key':_0x304f06});}async[a0_0x1f685e(0xee)](_0x5421eb){const _0x42defe=a0_0x1f685e;return this['fetch'](_0x42defe(0x101),_0x42defe(0xf2),null,{'key':_0x5421eb});}async[a0_0x1f685e(0x10d)](_0x447145){const _0x587fc5=a0_0x1f685e;return this[_0x587fc5(0xf3)](_0x587fc5(0x112),_0x587fc5(0xf5),null,{'key':_0x447145});}async[a0_0x1f685e(0xf9)](){const _0x38541d=a0_0x1f685e,_0x5c944b=await this[_0x38541d(0x106)](),_0x283bc8=_0x5c944b[_0x38541d(0xfd)](_0x5a0222=>this[_0x38541d(0x10d)](_0x5a0222));return await Promise[_0x38541d(0xfa)](_0x283bc8),null;}async[a0_0x1f685e(0xf3)](_0x3c2bbc,_0x22c6ae,_0xc8401c=null,_0x35084c={}){const _0x4915db=a0_0x1f685e;_0x35084c={..._0x35084c,'namespace':this[_0x4915db(0x102)]};let _0x54cfbd=new URL(''+this[_0x4915db(0xff)]+_0x22c6ae);const _0x21104e=new URLSearchParams();for(const [_0x361eef,_0x2552b6]of Object[_0x4915db(0x10a)](_0x35084c)){_0x2552b6!==undefined&&_0x2552b6!==null&&_0x21104e[_0x4915db(0x105)](_0x361eef,_0x2552b6);}_0x54cfbd['search']=_0x21104e['toString']();const _0xcf348a={'method':_0x3c2bbc,'headers':this[_0x4915db(0xf6)]};if(_0xc8401c)_0xcf348a['body']=JSON[_0x4915db(0xf8)](_0xc8401c);try{const _0x60b8e3=await fetch(_0x54cfbd,_0xcf348a),_0x56122f=await _0x60b8e3['json']();if(!_0x60b8e3['ok'])throw{'error':_0x56122f};return _0x56122f;}catch(_0xcb6da0){console[_0x4915db(0xef)](_0x3c2bbc+'\x20'+_0x54cfbd+'\x20â†’\x20ERROR:\x20'+_0xcb6da0[_0x4915db(0xf4)]);throw _0xcb6da0;}}}