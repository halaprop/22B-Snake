const a0_0x58fdde=a0_0x25a6;(function(_0x292de2,_0x565fa7){const _0x32ac44=a0_0x25a6,_0x20410b=_0x292de2();while(!![]){try{const _0x5c583a=parseInt(_0x32ac44(0xcf))/0x1*(-parseInt(_0x32ac44(0xbf))/0x2)+parseInt(_0x32ac44(0xe3))/0x3*(parseInt(_0x32ac44(0xe2))/0x4)+-parseInt(_0x32ac44(0xdb))/0x5+parseInt(_0x32ac44(0xdd))/0x6+parseInt(_0x32ac44(0xd8))/0x7+parseInt(_0x32ac44(0xbb))/0x8+-parseInt(_0x32ac44(0xcb))/0x9*(parseInt(_0x32ac44(0xcd))/0xa);if(_0x5c583a===_0x565fa7)break;else _0x20410b['push'](_0x20410b['shift']());}catch(_0x3f2794){_0x20410b['push'](_0x20410b['shift']());}}}(a0_0x33d8,0xb0878));export class RemoteStorage{constructor(_0x111cb9,_0x60ee80){const _0xb5f213=a0_0x25a6;this[_0xb5f213(0xca)]=_0x111cb9,this['endpoint']='https://remote-storage.dan-5d7.workers.dev/v1',this[_0xb5f213(0xc4)]={'Authorization':_0x60ee80,'Content-Type':_0xb5f213(0xdc)};}async['keys'](){const _0x59c857=a0_0x25a6;let _0x1a8654=[],_0x8ecb45=null;while(!![]){const {keys:_0x545702,cursor:_0x32ed30,list_complete:_0x51e17d}=await this[_0x59c857(0xd1)]({'cursor':_0x8ecb45});_0x1a8654[_0x59c857(0xe1)](..._0x545702);if(_0x51e17d)break;_0x8ecb45=_0x32ed30;}return _0x1a8654;}async[a0_0x58fdde(0xd1)]({limit:limit=0x3e8,cursor:_0x5740ce=null}={}){const _0x3e0acc=a0_0x58fdde,{items:_0x161082,cursor:_0x405439,list_complete:_0x4c1900}=await this[_0x3e0acc(0xc2)]({'limit':limit,'cursor':_0x5740ce}),_0x52fc9f=_0x161082[_0x3e0acc(0xe0)](_0x2af363=>_0x2af363[_0x3e0acc(0xcc)]);return{'keys':_0x52fc9f,'cursor':_0x405439,'list_complete':_0x4c1900};}async[a0_0x58fdde(0xd7)](..._0x113e2e){const _0x31be64=a0_0x58fdde,_0x200ab2={};let _0x3fcfb9=null;while(!![]){const {items:_0x86a1,cursor:_0x5802c9,list_complete:_0x35d9e9}=await this[_0x31be64(0xc2)]({'cursor':_0x3fcfb9}),_0x1ec0f3=_0x113e2e[_0x31be64(0xc9)]?_0x86a1[_0x31be64(0xc6)](_0x5be29d=>_0x113e2e['some'](_0xbe1988=>_0x5be29d['name']['startsWith'](_0xbe1988))):_0x86a1,_0x1e08b0=_0x1ec0f3[_0x31be64(0xe0)](async({name:_0x18c9f3,metadata:_0x414160})=>{const _0x8410c3=_0x31be64,_0x118d9=await this[_0x8410c3(0xc8)](_0x18c9f3);_0x200ab2[_0x18c9f3]={'value':_0x118d9,'metadata':_0x414160};});await Promise[_0x31be64(0xc5)](_0x1e08b0);if(_0x35d9e9)break;_0x3fcfb9=_0x5802c9;}return _0x200ab2;}async[a0_0x58fdde(0xc2)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x1610bd=a0_0x58fdde;return this[_0x1610bd(0xbc)](_0x1610bd(0xc3),'/list',null,{'limit':limit,'cursor':cursor});}async[a0_0x58fdde(0xd3)](_0x39ea70,_0x50151b){const _0x33ca66=a0_0x58fdde;return this[_0x33ca66(0xbc)](_0x33ca66(0xbd),'/set',{'key':_0x39ea70,'value':_0x50151b});}async[a0_0x58fdde(0xc8)](_0x1174a6){const _0x7833b3=a0_0x58fdde;return this[_0x7833b3(0xbc)]('GET',_0x7833b3(0xdf),null,{'key':_0x1174a6});}async[a0_0x58fdde(0xbe)](_0x347d12){const _0x4b4923=a0_0x58fdde;return this['fetch'](_0x4b4923(0xc3),'/getWithMetadata',null,{'key':_0x347d12});}async[a0_0x58fdde(0xd5)](_0x545151){const _0x5001a1=a0_0x58fdde;return this[_0x5001a1(0xbc)](_0x5001a1(0xd9),'/delete',null,{'key':_0x545151});}async['clear'](){const _0x45348c=a0_0x58fdde,_0x6038ea=await this['keys'](),_0x220871=_0x6038ea[_0x45348c(0xe0)](_0x1efa64=>this['removeItem'](_0x1efa64));return await Promise['all'](_0x220871),null;}async['fetch'](_0xa8a9ec,_0x599863,_0x469f7f=null,_0x5b55c7={}){const _0x5a42a3=a0_0x58fdde;_0x5b55c7={..._0x5b55c7,'namespace':this[_0x5a42a3(0xca)]};let _0x18a9cd=new URL(''+this[_0x5a42a3(0xd0)]+_0x599863);const _0x34b3f0=new URLSearchParams();for(const [_0x16f5aa,_0x4f1118]of Object[_0x5a42a3(0xce)](_0x5b55c7)){_0x4f1118!==undefined&&_0x4f1118!==null&&_0x34b3f0[_0x5a42a3(0xd6)](_0x16f5aa,_0x4f1118);}_0x18a9cd[_0x5a42a3(0xc7)]=_0x34b3f0[_0x5a42a3(0xde)]();const _0x4416b0={'method':_0xa8a9ec,'headers':this[_0x5a42a3(0xc4)]};if(_0x469f7f)_0x4416b0[_0x5a42a3(0xc0)]=JSON[_0x5a42a3(0xd2)](_0x469f7f);try{const _0x1289ef=await fetch(_0x18a9cd,_0x4416b0),_0x58b5b8=await _0x1289ef[_0x5a42a3(0xd4)]();if(!_0x1289ef['ok'])throw{'error':_0x58b5b8};return _0x58b5b8;}catch(_0x121dd1){console[_0x5a42a3(0xc1)](_0xa8a9ec+'\x20'+_0x18a9cd+_0x5a42a3(0xda)+_0x121dd1['message']);throw _0x121dd1;}}}function a0_0x25a6(_0x22608a,_0x3c74a3){const _0x33d848=a0_0x33d8();return a0_0x25a6=function(_0x25a610,_0x1832d5){_0x25a610=_0x25a610-0xbb;let _0x3c158d=_0x33d848[_0x25a610];return _0x3c158d;},a0_0x25a6(_0x22608a,_0x3c74a3);}function a0_0x33d8(){const _0x3bd4a8=['/get','map','push','2740plUjyV','2271anZyiV','4392056YePgmH','fetch','POST','getItemWithMetadata','10XFBSui','body','log','list','GET','requestHeaders','all','filter','search','getItem','length','namespace','153AOUQhc','name','640270izKvUk','entries','210674RVAAkE','endpoint','keysPaged','stringify','setItem','json','removeItem','append','getNamespace','6427813tVybrC','DELETE','\x20â†’\x20ERROR:\x20','289570tCslvA','application/json','5621976pSkwvM','toString'];a0_0x33d8=function(){return _0x3bd4a8;};return a0_0x33d8();}