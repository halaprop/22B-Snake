function a0_0x204b(_0x547201,_0x56a579){const _0x53d83f=a0_0x53d8();return a0_0x204b=function(_0x204bc7,_0x34bce1){_0x204bc7=_0x204bc7-0x1b7;let _0x32b015=_0x53d83f[_0x204bc7];return _0x32b015;},a0_0x204b(_0x547201,_0x56a579);}const a0_0x1d9334=a0_0x204b;function a0_0x53d8(){const _0x26ef1a=['namespace','6KfPbYP','length','login','698943eYfrfc','/register','toString','map','getItem','8224205hNMvMg','http-error','filter','list','setItem','4892170VXghDM','Authorization','5481024XjEjvA','removeItem','json','GET','message','8286LGfccp','Unknown\x20network\x20error','catch','12OmLOhv','POST','/getWithMetadata','keys','clear','startsWith','DELETE','getItemWithMetadata','all','88PxjsGc','368905ZRtWfD','getNamespace','stringify','10fNtWsj','apiFetch','requestHeaders','name','search','status','endpoint','9CHUoxS','push','keysPaged','network-error','some','type','code','application/json','entries','817072WngfZb'];a0_0x53d8=function(){return _0x26ef1a;};return a0_0x53d8();}(function(_0x58e20f,_0x3f8eb7){const _0x36e320=a0_0x204b,_0x1854f2=_0x58e20f();while(!![]){try{const _0x473553=-parseInt(_0x36e320(0x1cb))/0x1+parseInt(_0x36e320(0x1ca))/0x2*(-parseInt(_0x36e320(0x1be))/0x3)+-parseInt(_0x36e320(0x1de))/0x4*(-parseInt(_0x36e320(0x1ce))/0x5)+parseInt(_0x36e320(0x1e0))/0x6*(-parseInt(_0x36e320(0x1e3))/0x7)+-parseInt(_0x36e320(0x1b9))/0x8+-parseInt(_0x36e320(0x1d5))/0x9*(-parseInt(_0x36e320(0x1b7))/0xa)+parseInt(_0x36e320(0x1e8))/0xb*(parseInt(_0x36e320(0x1c1))/0xc);if(_0x473553===_0x3f8eb7)break;else _0x1854f2['push'](_0x1854f2['shift']());}catch(_0x5c54fd){_0x1854f2['push'](_0x1854f2['shift']());}}}(a0_0x53d8,0x5a54e));export class RemoteStorage{constructor(_0x31f128,_0x196b17){const _0x54d564=a0_0x204b;this['namespace']=_0x31f128,this['endpoint']='https://remote-storage.dan-5d7.workers.dev/v1',this['requestHeaders']={'Content-Type':_0x54d564(0x1dc)};if(_0x196b17)this['requestHeaders']['Authorization']=_0x196b17;}async['register'](_0x149c10,_0x1e8d53){const _0x410476=a0_0x204b,_0x2dae2c=await fetch(this[_0x410476(0x1d4)]+_0x410476(0x1e4),{'method':_0x410476(0x1c2),'headers':{'Content-Type':'application/json'},'body':JSON['stringify']({'userID':_0x149c10,'password':_0x1e8d53})}),_0x717965=await _0x2dae2c['json']()[_0x410476(0x1c0)](()=>({}));if(!_0x2dae2c['ok'])throw{'status':_0x2dae2c[_0x410476(0x1d3)],'body':_0x717965};return{'status':_0x2dae2c[_0x410476(0x1d3)],'json':_0x717965};}async[a0_0x1d9334(0x1e2)](_0x263f47,_0x10edba){const _0x1f17e9=a0_0x1d9334,_0x3cda67=await fetch(this['endpoint']+'/login',{'method':_0x1f17e9(0x1c2),'headers':{'Content-Type':_0x1f17e9(0x1dc)},'body':JSON['stringify']({'namespace':this['namespace'],'userID':_0x263f47,'password':_0x10edba})}),_0x2e5219=await _0x3cda67['json']()[_0x1f17e9(0x1c0)](()=>({}));if(!_0x3cda67['ok'])throw{'status':_0x3cda67[_0x1f17e9(0x1d3)],'body':_0x2e5219};const _0x239aaf=_0x2e5219['token'];return this[_0x1f17e9(0x1d0)][_0x1f17e9(0x1b8)]=_0x239aaf,_0x239aaf;}async[a0_0x1d9334(0x1c4)](){const _0xb62b8f=a0_0x1d9334;let _0x577ab8=[],_0x323777=null;while(!![]){const {keys:_0x25e3d0,cursor:_0x3cb418,list_complete:_0x439d8c}=await this[_0xb62b8f(0x1d7)]({'cursor':_0x323777});_0x577ab8[_0xb62b8f(0x1d6)](..._0x25e3d0);if(_0x439d8c)break;_0x323777=_0x3cb418;}return _0x577ab8;}async[a0_0x1d9334(0x1d7)]({limit:limit=0x3e8,cursor:_0x252af9=null}={}){const _0xf3b94e=a0_0x1d9334,{items:_0x34d58e,cursor:_0x4bcac3,list_complete:_0x502205}=await this[_0xf3b94e(0x1eb)]({'limit':limit,'cursor':_0x252af9}),_0x1c1776=_0x34d58e[_0xf3b94e(0x1e6)](_0x5e8ffe=>_0x5e8ffe[_0xf3b94e(0x1d1)]);return{'keys':_0x1c1776,'cursor':_0x4bcac3,'list_complete':_0x502205};}async[a0_0x1d9334(0x1cc)](..._0x42c6ef){const _0x8aeb5c=a0_0x1d9334,_0x16c2a1={};let _0x159784=null;while(!![]){const {items:_0x1ea9b4,cursor:_0x78df12,list_complete:_0x5e3812}=await this[_0x8aeb5c(0x1eb)]({'cursor':_0x159784}),_0x4ad069=_0x42c6ef[_0x8aeb5c(0x1e1)]?_0x1ea9b4[_0x8aeb5c(0x1ea)](_0x8cbdd2=>_0x42c6ef[_0x8aeb5c(0x1d9)](_0x29a779=>_0x8cbdd2['name'][_0x8aeb5c(0x1c6)](_0x29a779))):_0x1ea9b4;await Promise['all'](_0x4ad069[_0x8aeb5c(0x1e6)](async({name:_0x1eee69,metadata:_0x125973})=>{const _0x5e15c3=_0x8aeb5c,_0xe07691=await this[_0x5e15c3(0x1e7)](_0x1eee69);_0x16c2a1[_0x1eee69]={'value':_0xe07691,'metadata':_0x125973};}));if(_0x5e3812)break;_0x159784=_0x78df12;}return _0x16c2a1;}async[a0_0x1d9334(0x1eb)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x5bb811=a0_0x1d9334;return this['apiFetch'](_0x5bb811(0x1bc),'/list',null,{'limit':limit,'cursor':cursor});}async[a0_0x1d9334(0x1ec)](_0x14f8b3,_0x215ae8){const _0x2cdc4e=a0_0x1d9334;return this[_0x2cdc4e(0x1cf)](_0x2cdc4e(0x1c2),'/set',{'key':_0x14f8b3,'value':_0x215ae8});}async[a0_0x1d9334(0x1e7)](_0x2fd395){const _0x40c2c1=a0_0x1d9334;return this[_0x40c2c1(0x1cf)](_0x40c2c1(0x1bc),'/get',null,{'key':_0x2fd395});}async[a0_0x1d9334(0x1c8)](_0x530ddf){const _0x1e67b7=a0_0x1d9334;return this[_0x1e67b7(0x1cf)](_0x1e67b7(0x1bc),_0x1e67b7(0x1c3),null,{'key':_0x530ddf});}async['removeItem'](_0x25dc50){const _0x4eb419=a0_0x1d9334;return this[_0x4eb419(0x1cf)](_0x4eb419(0x1c7),'/delete',null,{'key':_0x25dc50});}async[a0_0x1d9334(0x1c5)](){const _0x38d859=a0_0x1d9334,_0x39b133=await this[_0x38d859(0x1c4)]();return await Promise[_0x38d859(0x1c9)](_0x39b133[_0x38d859(0x1e6)](_0x1ae921=>this[_0x38d859(0x1ba)](_0x1ae921))),null;}async[a0_0x1d9334(0x1cf)](_0x53869f,_0x1da740,_0x1ea4c4=null,_0x1b30c7={}){const _0x1435fd=a0_0x1d9334;_0x1b30c7={..._0x1b30c7,'namespace':this[_0x1435fd(0x1df)]};const _0x5f1fd9=new URL(''+this['endpoint']+_0x1da740);_0x5f1fd9[_0x1435fd(0x1d2)]=new URLSearchParams(Object[_0x1435fd(0x1dd)](_0x1b30c7)[_0x1435fd(0x1ea)](([_0x1bc0e5,_0x37d93a])=>_0x37d93a!==undefined&&_0x37d93a!==null))[_0x1435fd(0x1e5)]();const _0x25e7f9={'method':_0x53869f,'headers':this[_0x1435fd(0x1d0)]};if(_0x1ea4c4)_0x25e7f9['body']=JSON[_0x1435fd(0x1cd)](_0x1ea4c4);try{const _0x2c7a17=await fetch(_0x5f1fd9,_0x25e7f9),_0x2cf540=await _0x2c7a17[_0x1435fd(0x1bb)]()['catch'](()=>({}));if(!_0x2c7a17['ok'])throw{'type':_0x1435fd(0x1e9),'status':_0x2c7a17['status'],'body':_0x2cf540};return _0x2cf540;}catch(_0x3ad528){if(_0x3ad528?.[_0x1435fd(0x1da)]===_0x1435fd(0x1e9))throw _0x3ad528;const _0x1f8d47=_0x3ad528?.[_0x1435fd(0x1bd)]||_0x3ad528?.['name']||_0x3ad528?.[_0x1435fd(0x1db)]||_0x1435fd(0x1bf);throw{'type':_0x1435fd(0x1d8),'detail':_0x1f8d47};}}}