const a0_0x220a20=a0_0x2f79;function a0_0x2f79(_0x318051,_0x4023c4){const _0x5275b9=a0_0x5275();return a0_0x2f79=function(_0x2f7984,_0x3719b0){_0x2f7984=_0x2f7984-0x74;let _0x2d04c4=_0x5275b9[_0x2f7984];return _0x2d04c4;},a0_0x2f79(_0x318051,_0x4023c4);}function a0_0x5275(){const _0x38c6b2=['49255YNRQQP','getNamespace','all','namespace','POST','stringify','push','3952692YCVcxL','keysPaged','clear','search','map','8zupNjN','body','fetch','toString','/list','270DDSvVc','\x20â†’\x20ERROR:\x20','requestHeaders','/getWithMetadata','426815BAnWoo','3184600qmVMzQ','removeItem','4mNTbfA','name','entries','setItem','keys','endpoint','1851744gZDMjN','log','GET','getItemWithMetadata','/delete','getItem','348699TJSDvP','filter','message','/set','some','list','1337329wMNlJp'];a0_0x5275=function(){return _0x38c6b2;};return a0_0x5275();}(function(_0x141b2e,_0x3e0dce){const _0x10dcbf=a0_0x2f79,_0x1c8f7a=_0x141b2e();while(!![]){try{const _0x1ac343=parseInt(_0x10dcbf(0x88))/0x1+-parseInt(_0x10dcbf(0x8b))/0x2*(-parseInt(_0x10dcbf(0x97))/0x3)+-parseInt(_0x10dcbf(0x91))/0x4+-parseInt(_0x10dcbf(0x9e))/0x5*(-parseInt(_0x10dcbf(0x84))/0x6)+parseInt(_0x10dcbf(0x9d))/0x7*(-parseInt(_0x10dcbf(0x7f))/0x8)+parseInt(_0x10dcbf(0x7a))/0x9+-parseInt(_0x10dcbf(0x89))/0xa;if(_0x1ac343===_0x3e0dce)break;else _0x1c8f7a['push'](_0x1c8f7a['shift']());}catch(_0x31388f){_0x1c8f7a['push'](_0x1c8f7a['shift']());}}}(a0_0x5275,0x8afe9));export class RemoteStorage{constructor(_0xb6c0fe,_0x434ec3){const _0x45db44=a0_0x2f79;this[_0x45db44(0x76)]=_0xb6c0fe,this[_0x45db44(0x90)]='https://remote-storage.dan-5d7.workers.dev/v1',this[_0x45db44(0x86)]={'Authorization':_0x434ec3,'Content-Type':'application/json'};}async[a0_0x220a20(0x8f)](){const _0x20e376=a0_0x220a20;let _0x261271=[],_0x313ee7=null;while(!![]){const {keys:_0x5a8f4d,cursor:_0x1150d3,list_complete:_0x1f2a63}=await this['keysPaged']({'cursor':_0x313ee7});_0x261271[_0x20e376(0x79)](..._0x5a8f4d);if(_0x1f2a63)break;_0x313ee7=_0x1150d3;}return _0x261271;}async[a0_0x220a20(0x7b)]({limit:limit=0x3e8,cursor:_0x1cc736=null}={}){const _0x23fa7c=a0_0x220a20,{items:_0x2079d4,cursor:_0x2e9b05,list_complete:_0xcdd7eb}=await this['list']({'limit':limit,'cursor':_0x1cc736}),_0x478abb=_0x2079d4[_0x23fa7c(0x7e)](_0x5d67bd=>_0x5d67bd[_0x23fa7c(0x8c)]);return{'keys':_0x478abb,'cursor':_0x2e9b05,'list_complete':_0xcdd7eb};}async[a0_0x220a20(0x74)](..._0x5be833){const _0x3820b2=a0_0x220a20,_0x14f4ca={};let _0x18bb2d=null;while(!![]){const {items:_0x2f1f91,cursor:_0x27b67c,list_complete:_0x4eafd2}=await this[_0x3820b2(0x9c)]({'cursor':_0x18bb2d}),_0x23afe6=_0x5be833['length']?_0x2f1f91[_0x3820b2(0x98)](_0x5e615c=>_0x5be833[_0x3820b2(0x9b)](_0xf6154e=>_0x5e615c[_0x3820b2(0x8c)]['startsWith'](_0xf6154e))):_0x2f1f91,_0x3cb676=_0x23afe6[_0x3820b2(0x7e)](async({name:_0x25bb4b,metadata:_0x348915})=>{const _0xcb6fc9=_0x3820b2,_0x153e62=await this[_0xcb6fc9(0x96)](_0x25bb4b);_0x14f4ca[_0x25bb4b]={'value':_0x153e62,'metadata':_0x348915};});await Promise[_0x3820b2(0x75)](_0x3cb676);if(_0x4eafd2)break;_0x18bb2d=_0x27b67c;}return _0x14f4ca;}async[a0_0x220a20(0x9c)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x132ab4=a0_0x220a20;return this[_0x132ab4(0x81)]('GET',_0x132ab4(0x83),null,{'limit':limit,'cursor':cursor});}async[a0_0x220a20(0x8e)](_0x3e587a,_0xd152bc){const _0xf54d=a0_0x220a20;return this[_0xf54d(0x81)](_0xf54d(0x77),_0xf54d(0x9a),{'key':_0x3e587a,'value':_0xd152bc});}async['getItem'](_0x9d54b2){const _0xa3c3c3=a0_0x220a20;return this['fetch'](_0xa3c3c3(0x93),'/get',null,{'key':_0x9d54b2});}async[a0_0x220a20(0x94)](_0x359bb3){const _0x1f466a=a0_0x220a20;return this[_0x1f466a(0x81)](_0x1f466a(0x93),_0x1f466a(0x87),null,{'key':_0x359bb3});}async[a0_0x220a20(0x8a)](_0x485997){const _0x1d479c=a0_0x220a20;return this['fetch']('DELETE',_0x1d479c(0x95),null,{'key':_0x485997});}async[a0_0x220a20(0x7c)](){const _0xe4fc0b=a0_0x220a20,_0x4db555=await this['keys'](),_0x183343=_0x4db555[_0xe4fc0b(0x7e)](_0x10167b=>this[_0xe4fc0b(0x8a)](_0x10167b));return await Promise[_0xe4fc0b(0x75)](_0x183343),null;}async[a0_0x220a20(0x81)](_0x444340,_0xa2d5f3,_0x3e9027=null,_0x1604d8={}){const _0x297d91=a0_0x220a20;_0x1604d8={..._0x1604d8,'namespace':this[_0x297d91(0x76)]};let _0x59a289=new URL(''+this[_0x297d91(0x90)]+_0xa2d5f3);const _0x1cb826=new URLSearchParams();for(const [_0x480fc7,_0x218eae]of Object[_0x297d91(0x8d)](_0x1604d8)){_0x218eae!==undefined&&_0x218eae!==null&&_0x1cb826['append'](_0x480fc7,_0x218eae);}_0x59a289[_0x297d91(0x7d)]=_0x1cb826[_0x297d91(0x82)]();const _0x22398d={'method':_0x444340,'headers':this[_0x297d91(0x86)]};if(_0x3e9027)_0x22398d[_0x297d91(0x80)]=JSON[_0x297d91(0x78)](_0x3e9027);try{const _0x3d31af=await fetch(_0x59a289,_0x22398d),_0x26d2d2=await _0x3d31af['json']();if(!_0x3d31af['ok'])throw{'error':_0x26d2d2};return _0x26d2d2;}catch(_0x4f77e5){console[_0x297d91(0x92)](_0x444340+'\x20'+_0x59a289+_0x297d91(0x85)+_0x4f77e5[_0x297d91(0x99)]);throw _0x4f77e5;}}}