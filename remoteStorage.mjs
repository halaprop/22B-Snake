function a0_0xb045(_0x289674,_0x346371){const _0x733e39=a0_0x733e();return a0_0xb045=function(_0xb04518,_0x283478){_0xb04518=_0xb04518-0x14e;let _0x4dbae2=_0x733e39[_0xb04518];return _0x4dbae2;},a0_0xb045(_0x289674,_0x346371);}const a0_0xd2a34f=a0_0xb045;function a0_0x733e(){const _0x21cc7e=['all','stringify','keysPaged','1180hPhrRM','fetch','/get','application/json','endpoint','startsWith','2470168HbBFsW','5467052gQUPbt','7373775NaltPV','GET','json','log','length','/delete','clear','namespace','toString','setItem','search','entries','keys','/list','map','filter','17388bYyKnS','7fKLMaJ','getItem','requestHeaders','7690VywYVI','name','\x20â†’\x20ERROR:\x20','290eNWOLd','3JayrwI','484847rhfLdS','removeItem','/set','204hnMDha','list','some','body','8662068OXPAeM','/getWithMetadata','getNamespace'];a0_0x733e=function(){return _0x21cc7e;};return a0_0x733e();}(function(_0x4f66c4,_0x59bf56){const _0x259ed6=a0_0xb045,_0x20b32e=_0x4f66c4();while(!![]){try{const _0x1ca294=parseInt(_0x259ed6(0x16b))/0x1*(-parseInt(_0x259ed6(0x168))/0x2)+-parseInt(_0x259ed6(0x16c))/0x3*(-parseInt(_0x259ed6(0x153))/0x4)+parseInt(_0x259ed6(0x154))/0x5+parseInt(_0x259ed6(0x174))/0x6*(-parseInt(_0x259ed6(0x165))/0x7)+-parseInt(_0x259ed6(0x152))/0x8+parseInt(_0x259ed6(0x164))/0x9*(parseInt(_0x259ed6(0x17a))/0xa)+-parseInt(_0x259ed6(0x16d))/0xb*(-parseInt(_0x259ed6(0x170))/0xc);if(_0x1ca294===_0x59bf56)break;else _0x20b32e['push'](_0x20b32e['shift']());}catch(_0x2a8d69){_0x20b32e['push'](_0x20b32e['shift']());}}}(a0_0x733e,0xe8408));export class RemoteStorage{constructor(_0x5850da,_0x3a4191){const _0x566099=a0_0xb045;this[_0x566099(0x15b)]=_0x5850da,this[_0x566099(0x150)]='https://remote-storage.dan-5d7.workers.dev/v1',this[_0x566099(0x167)]={'Authorization':_0x3a4191,'Content-Type':_0x566099(0x14f)};}async['keys'](){const _0x5157b6=a0_0xb045;let _0x106e3f=[],_0x5c0c2b=null;while(!![]){const {keys:_0x3adadc,cursor:_0x485e46,list_complete:_0x28084c}=await this[_0x5157b6(0x179)]({'cursor':_0x5c0c2b});_0x106e3f['push'](..._0x3adadc);if(_0x28084c)break;_0x5c0c2b=_0x485e46;}return _0x106e3f;}async[a0_0xd2a34f(0x179)]({limit:limit=0x3e8,cursor:_0x49dae4=null}={}){const _0x2622a2=a0_0xd2a34f,{items:_0x36f53d,cursor:_0x11594c,list_complete:_0x25b553}=await this[_0x2622a2(0x171)]({'limit':limit,'cursor':_0x49dae4}),_0x5618b5=_0x36f53d['map'](_0xde8d11=>_0xde8d11['name']);return{'keys':_0x5618b5,'cursor':_0x11594c,'list_complete':_0x25b553};}async[a0_0xd2a34f(0x176)](..._0x459f51){const _0x1aa671=a0_0xd2a34f,_0x3688ad={};let _0x378a67=null;while(!![]){const {items:_0x35ae99,cursor:_0x416a6e,list_complete:_0xca279d}=await this[_0x1aa671(0x171)]({'cursor':_0x378a67}),_0x2f0ad9=_0x459f51[_0x1aa671(0x158)]?_0x35ae99[_0x1aa671(0x163)](_0x3f67b9=>_0x459f51[_0x1aa671(0x172)](_0x4cba36=>_0x3f67b9[_0x1aa671(0x169)][_0x1aa671(0x151)](_0x4cba36))):_0x35ae99,_0x5de3b7=_0x2f0ad9['map'](async({name:_0x1511ae,metadata:_0x331fce})=>{const _0x5976ca=_0x1aa671,_0x31d6d3=await this[_0x5976ca(0x166)](_0x1511ae);_0x3688ad[_0x1511ae]={'value':_0x31d6d3,'metadata':_0x331fce};});await Promise['all'](_0x5de3b7);if(_0xca279d)break;_0x378a67=_0x416a6e;}return _0x3688ad;}async[a0_0xd2a34f(0x171)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x4889fd=a0_0xd2a34f;return this[_0x4889fd(0x17b)](_0x4889fd(0x155),_0x4889fd(0x161),null,{'limit':limit,'cursor':cursor});}async[a0_0xd2a34f(0x15d)](_0x32240e,_0x41e320){const _0x350a89=a0_0xd2a34f;return this['fetch']('POST',_0x350a89(0x16f),{'key':_0x32240e,'value':_0x41e320});}async[a0_0xd2a34f(0x166)](_0x51c843){const _0x674fc=a0_0xd2a34f;return this['fetch']('GET',_0x674fc(0x14e),null,{'key':_0x51c843});}async['getItemWithMetadata'](_0x460973){const _0x497fbd=a0_0xd2a34f;return this[_0x497fbd(0x17b)](_0x497fbd(0x155),_0x497fbd(0x175),null,{'key':_0x460973});}async[a0_0xd2a34f(0x16e)](_0xe54d7c){const _0x1a1552=a0_0xd2a34f;return this[_0x1a1552(0x17b)]('DELETE',_0x1a1552(0x159),null,{'key':_0xe54d7c});}async[a0_0xd2a34f(0x15a)](){const _0x54291e=a0_0xd2a34f,_0x14f2b7=await this[_0x54291e(0x160)](),_0x33482d=_0x14f2b7[_0x54291e(0x162)](_0x2b4792=>this[_0x54291e(0x16e)](_0x2b4792));return await Promise[_0x54291e(0x177)](_0x33482d),null;}async[a0_0xd2a34f(0x17b)](_0x45ac58,_0x252697,_0x4d1fc1=null,_0x486ca6={}){const _0x3b0935=a0_0xd2a34f;_0x486ca6={..._0x486ca6,'namespace':this[_0x3b0935(0x15b)]};let _0x5c0b01=new URL(''+this[_0x3b0935(0x150)]+_0x252697);const _0x3dd00b=new URLSearchParams();for(const [_0x949bc7,_0x14b77c]of Object[_0x3b0935(0x15f)](_0x486ca6)){_0x14b77c!==undefined&&_0x14b77c!==null&&_0x3dd00b['append'](_0x949bc7,_0x14b77c);}_0x5c0b01[_0x3b0935(0x15e)]=_0x3dd00b[_0x3b0935(0x15c)]();const _0x336410={'method':_0x45ac58,'headers':this[_0x3b0935(0x167)]};if(_0x4d1fc1)_0x336410[_0x3b0935(0x173)]=JSON[_0x3b0935(0x178)](_0x4d1fc1);try{const _0x1199cb=await fetch(_0x5c0b01,_0x336410),_0x1f27e7=await _0x1199cb[_0x3b0935(0x156)]();if(!_0x1199cb['ok'])throw{'error':_0x1f27e7};return _0x1f27e7;}catch(_0x109582){console[_0x3b0935(0x157)](_0x45ac58+'\x20'+_0x5c0b01+_0x3b0935(0x16a)+_0x109582['message']);throw _0x109582;}}}