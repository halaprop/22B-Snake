const a0_0x28fbbc=a0_0x38dd;(function(_0x387020,_0x1ddf66){const _0x278abe=a0_0x38dd,_0x18ebf2=_0x387020();while(!![]){try{const _0x258a14=parseInt(_0x278abe(0x109))/0x1*(parseInt(_0x278abe(0x108))/0x2)+parseInt(_0x278abe(0x111))/0x3+-parseInt(_0x278abe(0x116))/0x4+-parseInt(_0x278abe(0x104))/0x5+-parseInt(_0x278abe(0xf7))/0x6*(parseInt(_0x278abe(0x101))/0x7)+parseInt(_0x278abe(0x112))/0x8*(parseInt(_0x278abe(0xff))/0x9)+parseInt(_0x278abe(0x102))/0xa*(parseInt(_0x278abe(0x100))/0xb);if(_0x258a14===_0x1ddf66)break;else _0x18ebf2['push'](_0x18ebf2['shift']());}catch(_0x3a617e){_0x18ebf2['push'](_0x18ebf2['shift']());}}}(a0_0x11f4,0xca179));function a0_0x11f4(){const _0x1de997=['json','removeItem','getItem','https://remote-storage.dan-5d7.workers.dev/v1','body','entries','15507UddqXL','528MmTHLo','7jUoKbT','195100hcSyZg','\x20â†’\x20ERROR:\x20','3936570JRMinE','requestHeaders','fetch','list','2wNRoMi','129187gQQGEc','name','keys','/delete','setItem','log','/get','startsWith','1847910qTwBGR','1960DbGFZU','filter','push','GET','14036VUGgdb','endpoint','getItemWithMetadata','getNamespace','POST','toString','application/json','keysPaged','/getWithMetadata','namespace','all','/list','message','map','2911080QROBcy','append'];a0_0x11f4=function(){return _0x1de997;};return a0_0x11f4();}function a0_0x38dd(_0x489d82,_0x33630f){const _0x11f4e4=a0_0x11f4();return a0_0x38dd=function(_0x38dd5f,_0x48bfac){_0x38dd5f=_0x38dd5f-0xec;let _0x1bd729=_0x11f4e4[_0x38dd5f];return _0x1bd729;},a0_0x38dd(_0x489d82,_0x33630f);}export class RemoteStorage{constructor(_0x23213e,_0x46a4d8){const _0x149188=a0_0x38dd;this['namespace']=_0x23213e,this['endpoint']=_0x149188(0xfc),this[_0x149188(0x105)]={'Authorization':_0x46a4d8,'Content-Type':_0x149188(0xef)};}async[a0_0x28fbbc(0x10b)](){const _0x1c94a1=a0_0x28fbbc;let _0x11d7dc=[],_0x17e40f=null;while(!![]){const {keys:_0x48fd1e,cursor:_0x4c5d54,list_complete:_0x5c0d2b}=await this[_0x1c94a1(0xf0)]({'cursor':_0x17e40f});_0x11d7dc[_0x1c94a1(0x114)](..._0x48fd1e);if(_0x5c0d2b)break;_0x17e40f=_0x4c5d54;}return _0x11d7dc;}async['keysPaged']({limit:limit=0x3e8,cursor:_0x4e3320=null}={}){const _0x120a63=a0_0x28fbbc,{items:_0x30adb8,cursor:_0x2a925b,list_complete:_0x18ab83}=await this[_0x120a63(0x107)]({'limit':limit,'cursor':_0x4e3320}),_0x1fc7bd=_0x30adb8['map'](_0x50d92e=>_0x50d92e[_0x120a63(0x10a)]);return{'keys':_0x1fc7bd,'cursor':_0x2a925b,'list_complete':_0x18ab83};}async[a0_0x28fbbc(0xec)](..._0x88c141){const _0x4b18b2=a0_0x28fbbc,_0x198017={};let _0x15b766=null;while(!![]){const {items:_0x3d6c56,cursor:_0x39ef03,list_complete:_0x189b8d}=await this[_0x4b18b2(0x107)]({'cursor':_0x15b766}),_0x5387f4=_0x88c141['length']?_0x3d6c56[_0x4b18b2(0x113)](_0x321ee5=>_0x88c141['some'](_0xdd456c=>_0x321ee5[_0x4b18b2(0x10a)][_0x4b18b2(0x110)](_0xdd456c))):_0x3d6c56,_0x48c162=_0x5387f4['map'](async({name:_0x1640a6,metadata:_0x4e162f})=>{const _0x40958a=await this['getItem'](_0x1640a6);_0x198017[_0x1640a6]={'value':_0x40958a,'metadata':_0x4e162f};});await Promise[_0x4b18b2(0xf3)](_0x48c162);if(_0x189b8d)break;_0x15b766=_0x39ef03;}return _0x198017;}async['list']({limit:limit=0x3e8,cursor:cursor=null}={}){const _0xca108e=a0_0x28fbbc;return this['fetch'](_0xca108e(0x115),_0xca108e(0xf4),null,{'limit':limit,'cursor':cursor});}async[a0_0x28fbbc(0x10d)](_0x85634e,_0x23c3c0){const _0x586b0a=a0_0x28fbbc;return this[_0x586b0a(0x106)](_0x586b0a(0xed),'/set',{'key':_0x85634e,'value':_0x23c3c0});}async[a0_0x28fbbc(0xfb)](_0x20425a){const _0x27dc85=a0_0x28fbbc;return this[_0x27dc85(0x106)](_0x27dc85(0x115),_0x27dc85(0x10f),null,{'key':_0x20425a});}async[a0_0x28fbbc(0x118)](_0x2bc233){const _0x3b889e=a0_0x28fbbc;return this[_0x3b889e(0x106)](_0x3b889e(0x115),_0x3b889e(0xf1),null,{'key':_0x2bc233});}async[a0_0x28fbbc(0xfa)](_0x5dba2d){const _0x2e6243=a0_0x28fbbc;return this[_0x2e6243(0x106)]('DELETE',_0x2e6243(0x10c),null,{'key':_0x5dba2d});}async['clear'](){const _0x5a0b0c=a0_0x28fbbc,_0x32f95b=await this[_0x5a0b0c(0x10b)](),_0x259a9e=_0x32f95b[_0x5a0b0c(0xf6)](_0x5d28c6=>this[_0x5a0b0c(0xfa)](_0x5d28c6));return await Promise['all'](_0x259a9e),null;}async[a0_0x28fbbc(0x106)](_0x32a3ec,_0x280ce4,_0x3daf8c=null,_0x412eea={}){const _0x5f1b2a=a0_0x28fbbc;_0x412eea={..._0x412eea,'namespace':this[_0x5f1b2a(0xf2)]};let _0x334fb7=new URL(''+this[_0x5f1b2a(0x117)]+_0x280ce4);const _0x3eeab3=new URLSearchParams();for(const [_0x53fab7,_0x50492b]of Object[_0x5f1b2a(0xfe)](_0x412eea)){_0x50492b!==undefined&&_0x50492b!==null&&_0x3eeab3[_0x5f1b2a(0xf8)](_0x53fab7,_0x50492b);}_0x334fb7['search']=_0x3eeab3[_0x5f1b2a(0xee)]();const _0x59277c={'method':_0x32a3ec,'headers':this[_0x5f1b2a(0x105)]};if(_0x3daf8c)_0x59277c[_0x5f1b2a(0xfd)]=JSON['stringify'](_0x3daf8c);try{const _0x1e21df=await fetch(_0x334fb7,_0x59277c),_0x32868b=await _0x1e21df[_0x5f1b2a(0xf9)]();if(!_0x1e21df['ok'])throw{'error':_0x32868b};return _0x32868b;}catch(_0x565f42){console[_0x5f1b2a(0x10e)](_0x32a3ec+'\x20'+_0x334fb7+_0x5f1b2a(0x103)+_0x565f42[_0x5f1b2a(0xf5)]);throw _0x565f42;}}}