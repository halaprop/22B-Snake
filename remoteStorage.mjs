function a0_0xbd5b(){const _0x47927d=['3168081ZEkMAc','log','/getWithMetadata','setItem','493360UruuPx','append','126420syOHTe','80537gMFRfs','getItem','json','POST','filter','stringify','entries','application/json','search','keys','\x20â†’\x20ERROR:\x20','/get','/set','246trTbeW','name','some','https://remote-storage.dan-5d7.workers.dev/v1','647490ssePss','namespace','removeItem','GET','fetch','/list','map','2402bnacPR','list','push','DELETE','clear','keysPaged','getNamespace','920056gLbgcz','14jQTLvC','endpoint','requestHeaders'];a0_0xbd5b=function(){return _0x47927d;};return a0_0xbd5b();}const a0_0x38806e=a0_0x3306;function a0_0x3306(_0x1d3c97,_0x2eaaf3){const _0xbd5be0=a0_0xbd5b();return a0_0x3306=function(_0x330666,_0x437bb5){_0x330666=_0x330666-0x127;let _0x1ae1df=_0xbd5be0[_0x330666];return _0x1ae1df;},a0_0x3306(_0x1d3c97,_0x2eaaf3);}(function(_0x16b41e,_0x404bbc){const _0x3e0be5=a0_0x3306,_0x212cf3=_0x16b41e();while(!![]){try{const _0x31f45d=-parseInt(_0x3e0be5(0x149))/0x1+-parseInt(_0x3e0be5(0x137))/0x2*(-parseInt(_0x3e0be5(0x12c))/0x3)+parseInt(_0x3e0be5(0x13e))/0x4+parseInt(_0x3e0be5(0x130))/0x5+-parseInt(_0x3e0be5(0x148))/0x6+parseInt(_0x3e0be5(0x13f))/0x7*(parseInt(_0x3e0be5(0x146))/0x8)+-parseInt(_0x3e0be5(0x142))/0x9;if(_0x31f45d===_0x404bbc)break;else _0x212cf3['push'](_0x212cf3['shift']());}catch(_0x41339b){_0x212cf3['push'](_0x212cf3['shift']());}}}(a0_0xbd5b,0x1f2e6));export class RemoteStorage{constructor(_0x8bfd68,_0x4e09f4){const _0x28ad51=a0_0x3306;this[_0x28ad51(0x131)]=_0x8bfd68,this[_0x28ad51(0x140)]=_0x28ad51(0x12f),this[_0x28ad51(0x141)]={'Authorization':_0x4e09f4,'Content-Type':_0x28ad51(0x150)};}async[a0_0x38806e(0x128)](){const _0xf512e2=a0_0x38806e;let _0xca6124=[],_0xd38803=null;while(!![]){const {keys:_0xae6593,cursor:_0x126c9e,list_complete:_0x59dcab}=await this[_0xf512e2(0x13c)]({'cursor':_0xd38803});_0xca6124[_0xf512e2(0x139)](..._0xae6593);if(_0x59dcab)break;_0xd38803=_0x126c9e;}return _0xca6124;}async[a0_0x38806e(0x13c)]({limit:limit=0x3e8,cursor:_0x53a643=null}={}){const _0x46051e=a0_0x38806e,{items:_0x25536e,cursor:_0xd865b2,list_complete:_0x307563}=await this[_0x46051e(0x138)]({'limit':limit,'cursor':_0x53a643}),_0x425246=_0x25536e[_0x46051e(0x136)](_0x3d2e2d=>_0x3d2e2d[_0x46051e(0x12d)]);return{'keys':_0x425246,'cursor':_0xd865b2,'list_complete':_0x307563};}async[a0_0x38806e(0x13d)](..._0x5e4d36){const _0x54fb93=a0_0x38806e,_0x39dfda={};let _0x235a4c=null;while(!![]){const {items:_0x302722,cursor:_0x385810,list_complete:_0x3cfbc6}=await this[_0x54fb93(0x138)]({'cursor':_0x235a4c}),_0x5f5264=_0x5e4d36['length']?_0x302722[_0x54fb93(0x14d)](_0x262c7c=>_0x5e4d36[_0x54fb93(0x12e)](_0x3bfb=>_0x262c7c['name']['startsWith'](_0x3bfb))):_0x302722,_0x35ad7a=_0x5f5264[_0x54fb93(0x136)](async({name:_0x39fe1e,metadata:_0x5514f4})=>{const _0x14eb74=_0x54fb93,_0x4993cd=await this[_0x14eb74(0x14a)](_0x39fe1e);_0x39dfda[_0x39fe1e]={'value':_0x4993cd,'metadata':_0x5514f4};});await Promise['all'](_0x35ad7a);if(_0x3cfbc6)break;_0x235a4c=_0x385810;}return _0x39dfda;}async[a0_0x38806e(0x138)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x2968f2=a0_0x38806e;return this[_0x2968f2(0x134)](_0x2968f2(0x133),_0x2968f2(0x135),null,{'limit':limit,'cursor':cursor});}async[a0_0x38806e(0x145)](_0xf197f5,_0x1f2175){const _0x377327=a0_0x38806e;return this[_0x377327(0x134)](_0x377327(0x14c),_0x377327(0x12b),{'key':_0xf197f5,'value':_0x1f2175});}async[a0_0x38806e(0x14a)](_0x1a1b80){const _0x516c83=a0_0x38806e;return this['fetch'](_0x516c83(0x133),_0x516c83(0x12a),null,{'key':_0x1a1b80});}async['getItemWithMetadata'](_0x517f53){const _0x363d73=a0_0x38806e;return this[_0x363d73(0x134)]('GET',_0x363d73(0x144),null,{'key':_0x517f53});}async[a0_0x38806e(0x132)](_0x498a64){const _0x4a6e1a=a0_0x38806e;return this['fetch'](_0x4a6e1a(0x13a),'/delete',null,{'key':_0x498a64});}async[a0_0x38806e(0x13b)](){const _0x4efca4=a0_0x38806e,_0x17b941=await this[_0x4efca4(0x128)](),_0x3ab14f=_0x17b941[_0x4efca4(0x136)](_0x1c1961=>this[_0x4efca4(0x132)](_0x1c1961));return await Promise['all'](_0x3ab14f),null;}async[a0_0x38806e(0x134)](_0x33d317,_0x2ff005,_0x3ad4f7=null,_0x36d861={}){const _0x1750a7=a0_0x38806e;_0x36d861={..._0x36d861,'namespace':this[_0x1750a7(0x131)]};let _0x2fe78c=new URL(''+this['endpoint']+_0x2ff005);const _0x378764=new URLSearchParams();for(const [_0x107659,_0x14e0ed]of Object[_0x1750a7(0x14f)](_0x36d861)){_0x14e0ed!==undefined&&_0x14e0ed!==null&&_0x378764[_0x1750a7(0x147)](_0x107659,_0x14e0ed);}_0x2fe78c[_0x1750a7(0x127)]=_0x378764['toString']();const _0x119ef1={'method':_0x33d317,'headers':this[_0x1750a7(0x141)]};if(_0x3ad4f7)_0x119ef1['body']=JSON[_0x1750a7(0x14e)](_0x3ad4f7);try{const _0x1fd9e7=await fetch(_0x2fe78c,_0x119ef1),_0x4a1e11=await _0x1fd9e7[_0x1750a7(0x14b)]();if(!_0x1fd9e7['ok'])throw{'error':_0x4a1e11};return _0x4a1e11;}catch(_0x482d7c){console[_0x1750a7(0x143)](_0x33d317+'\x20'+_0x2fe78c+_0x1750a7(0x129)+_0x482d7c['message']);throw _0x482d7c;}}}