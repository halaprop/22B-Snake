const a0_0x3be34a=a0_0x4149;(function(_0x1925fd,_0x264d1d){const _0x222f55=a0_0x4149,_0x473479=_0x1925fd();while(!![]){try{const _0x5d6e1a=-parseInt(_0x222f55(0xf8))/0x1+-parseInt(_0x222f55(0xf3))/0x2*(parseInt(_0x222f55(0xef))/0x3)+parseInt(_0x222f55(0xdb))/0x4+parseInt(_0x222f55(0xe7))/0x5+parseInt(_0x222f55(0xdf))/0x6+-parseInt(_0x222f55(0xce))/0x7*(-parseInt(_0x222f55(0xcd))/0x8)+-parseInt(_0x222f55(0x106))/0x9;if(_0x5d6e1a===_0x264d1d)break;else _0x473479['push'](_0x473479['shift']());}catch(_0x32d2fa){_0x473479['push'](_0x473479['shift']());}}}(a0_0x30a0,0x56a1d));function a0_0x4149(_0x33d5bd,_0x5aee1d){const _0x30a090=a0_0x30a0();return a0_0x4149=function(_0x414901,_0x3a7bdf){_0x414901=_0x414901-0xc6;let _0x4b42f0=_0x30a090[_0x414901];return _0x4b42f0;},a0_0x4149(_0x33d5bd,_0x5aee1d);}import{ConsoleGrid,Cout}from'./console-grid.js';export class CreaturesApp{static ['kInitialPlayerCalories']=0x78;static [a0_0x3be34a(0x11a)]=0x5;constructor(){const _0x4a80fe=a0_0x3be34a,_0x319ce5={'canvas':document[_0x4a80fe(0xe0)](_0x4a80fe(0xd0)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x4a80fe(0xf1)]=0x64,this['grid']=new ConsoleGrid(_0x319ce5);const _0x28b781=document['getElementById']('cout-lines');this['cout']=new Cout(_0x28b781),this[_0x4a80fe(0xed)]=0x5,this['playerCol']=0x5,this[_0x4a80fe(0xfb)]=CreaturesApp[_0x4a80fe(0xd6)],this[_0x4a80fe(0xe9)]=0x0,this[_0x4a80fe(0xe3)]=![],this['creatureList']=new CreatureList(),this[_0x4a80fe(0x10f)]['addCreaturesFromFile'](),this[_0x4a80fe(0x10f)][_0x4a80fe(0xf9)](this[_0x4a80fe(0xda)]),this[_0x4a80fe(0xda)][_0x4a80fe(0xd1)](this[_0x4a80fe(0xed)],this[_0x4a80fe(0x11c)],'@',_0x4a80fe(0x107)),this[_0x4a80fe(0xda)][_0x4a80fe(0xfe)](this[_0x4a80fe(0x116)](this[_0x4a80fe(0xfb)],'')),this['cout'][_0x4a80fe(0xe4)](this[_0x4a80fe(0x10f)][_0x4a80fe(0x118)]());}[a0_0x3be34a(0x116)](_0x27aa37,_0x31d86a){const _0x2db7f0=a0_0x3be34a;return _0x2db7f0(0xf0)+this[_0x2db7f0(0xe9)]+'.\x20Player\x20has\x20'+_0x27aa37+_0x2db7f0(0x117)+_0x31d86a;}[a0_0x3be34a(0xff)](_0x4009d9){const _0xb482e3=a0_0x3be34a;if(this[_0xb482e3(0xe3)])return;let _0x128fb6=![],_0x8376b2='';this['creatureList'][_0xb482e3(0x114)](this['grid']),this[_0xb482e3(0xda)][_0xb482e3(0xe8)](this['playerRow'],this['playerCol']);switch(_0x4009d9){case _0xb482e3(0xea):this[_0xb482e3(0xed)]>0x0&&(_0x128fb6=!![],this[_0xb482e3(0xed)]--);break;case _0xb482e3(0xe5):this[_0xb482e3(0xed)]+0x1<this[_0xb482e3(0xda)]['rowCount']&&(_0x128fb6=!![],this[_0xb482e3(0xed)]++);break;case'ArrowLeft':this[_0xb482e3(0x11c)]>0x0&&(_0x128fb6=!![],this['playerCol']--);break;case _0xb482e3(0xd8):this[_0xb482e3(0x11c)]+0x1<this['grid'][_0xb482e3(0x10e)]&&(_0x128fb6=!![],this[_0xb482e3(0x11c)]++);break;case'Q':case'q':this[_0xb482e3(0xe3)]=!![];break;default:break;}if(!this[_0xb482e3(0xe3)]){_0x128fb6&&(this[_0xb482e3(0xfb)]-=CreaturesApp[_0xb482e3(0x11a)]);this[_0xb482e3(0x10f)]['takeTurns'](this['grid'][_0xb482e3(0xcc)],this[_0xb482e3(0xda)][_0xb482e3(0x10e)]);let _0x57297a=this[_0xb482e3(0x10f)][_0xb482e3(0xfa)](this[_0xb482e3(0xed)],this[_0xb482e3(0x11c)]);_0x57297a&&(_0x8376b2='Ate\x20the\x20'+_0x57297a[_0xb482e3(0xc6)],this[_0xb482e3(0xfb)]+=_0x57297a[_0xb482e3(0xec)],this[_0xb482e3(0x10f)][_0xb482e3(0xd3)](_0x57297a),this[_0xb482e3(0x10f)]['creatureCount']()==0x0&&(_0x8376b2=_0xb482e3(0x109),this[_0xb482e3(0xe3)]=!![])),this[_0xb482e3(0xfb)]<=0x0&&(_0x8376b2='Having\x20starved,\x20player\x20dies.',this['gameOver']=!![]),this[_0xb482e3(0xe9)]++;}this[_0xb482e3(0x10f)]['draw'](this[_0xb482e3(0xda)]),this['grid']['drawCharAt'](this[_0xb482e3(0xed)],this[_0xb482e3(0x11c)],'@','white'),this[_0xb482e3(0xda)][_0xb482e3(0xfe)](this['statusString'](this['playerCalories'],_0x8376b2)),this['cout'][_0xb482e3(0xe4)](this[_0xb482e3(0x10f)][_0xb482e3(0x118)]());}}class Creature{constructor(_0x346646){const _0x27ef3f=a0_0x3be34a;Object[_0x27ef3f(0x111)](this,_0x346646),this[_0x27ef3f(0x104)]=this[_0x27ef3f(0xec)];}static [a0_0x3be34a(0x11a)]=0x5;static [a0_0x3be34a(0xde)]=0x3c;static [a0_0x3be34a(0xdc)]=0x5;[a0_0x3be34a(0xe6)](_0x300170,_0x1ce753){const _0x484072=a0_0x3be34a;return this[_0x484072(0xeb)]==_0x300170&&this[_0x484072(0xd9)]==_0x1ce753;}['takeTurn'](_0x1c13e3,_0x3fdaa8){const _0x12e4da=a0_0x3be34a;this['resting']?this[_0x12e4da(0xfc)]():this[_0x12e4da(0x101)](_0x1c13e3,_0x3fdaa8);}[a0_0x3be34a(0x101)](_0x358006,_0xcaf5c6){const _0x32ba82=a0_0x3be34a;let _0x257125=this['row']+this[_0x32ba82(0x11b)];(_0x257125<0x0||_0x257125>=_0x358006)&&(this['dRow']*=-0x1,_0x257125=this['row']+this[_0x32ba82(0x11b)]);let _0x263272=this[_0x32ba82(0xd9)]+this[_0x32ba82(0xd4)];(_0x263272<0x0||_0x263272>=_0xcaf5c6)&&(this['dCol']*=-0x1,_0x263272=this[_0x32ba82(0xd9)]+this[_0x32ba82(0xd4)]),(this[_0x32ba82(0xeb)]!=_0x257125||this[_0x32ba82(0xd9)]!=_0x263272)&&(this[_0x32ba82(0xeb)]=_0x257125,this[_0x32ba82(0xd9)]=_0x263272,this['calories']-=Creature['kCaloriesConsumedPerMove'],this[_0x32ba82(0xec)]<=0x0&&(this['resting']=!![]));}[a0_0x3be34a(0xfc)](){const _0x11175a=a0_0x3be34a;this['calories']+=Creature[_0x11175a(0xdc)],this[_0x11175a(0xec)]>0.75*this[_0x11175a(0x104)]&&(this['resting']=![]);}[a0_0x3be34a(0xf9)](_0x47723e){const _0x278951=a0_0x3be34a;_0x47723e[_0x278951(0xd1)](this['row'],this['col'],this['glyph'],this[_0x278951(0x100)]);}[a0_0x3be34a(0x114)](_0x5e6553){const _0x1dc92e=a0_0x3be34a;_0x5e6553[_0x1dc92e(0xe8)](this[_0x1dc92e(0xeb)],this[_0x1dc92e(0xd9)]);}['toString'](){const _0xab763c=a0_0x3be34a;return this[_0xab763c(0xc6)]['padEnd'](0xa)+'\x20('+this[_0xab763c(0x112)]+')\x20'+this['calories'][_0xab763c(0x118)]()['padStart'](0x4);}}class CreatureList{constructor(){}['addCreaturesFromFile'](){const _0x517d4a=a0_0x3be34a,_0x4b63d9=[{'name':_0x517d4a(0xee),'glyph':'M','row':0x5,'col':0x2,'dRow':0x1,'dCol':0x1,'calories':0x5a,'color':'aqua'},{'name':_0x517d4a(0x10d),'glyph':'R','row':0x8,'col':0x1b,'dRow':0x1,'dCol':-0x1,'calories':0x6e,'color':_0x517d4a(0xd7)},{'name':_0x517d4a(0xf6),'glyph':'B','row':0x12,'col':0x12,'dRow':-0x1,'dCol':0x0,'calories':0xf0,'color':_0x517d4a(0xc9)},{'name':'Squirrel','glyph':'S','row':0x9,'col':0x4,'dRow':-0x1,'dCol':-0x1,'calories':0x64,'color':_0x517d4a(0x103)},{'name':'Deer','glyph':'D','row':0xc,'col':0xf,'dRow':0x1,'dCol':0x0,'calories':0x15e,'color':_0x517d4a(0x105)},{'name':_0x517d4a(0xcf),'glyph':'F','row':0x6,'col':0x13,'dRow':-0x1,'dCol':0x1,'calories':0x96,'color':_0x517d4a(0x110)},{'name':'Raccoon','glyph':'C','row':0xa,'col':0x7,'dRow':0x0,'dCol':0x1,'calories':0x78,'color':_0x517d4a(0xdd)},{'name':_0x517d4a(0x113),'glyph':'O','row':0x3,'col':0x19,'dRow':0x1,'dCol':-0x1,'calories':0x8c,'color':_0x517d4a(0xfd)},{'name':_0x517d4a(0xf4),'glyph':'H','row':0xf,'col':0xa,'dRow':-0x1,'dCol':0x1,'calories':0x46,'color':_0x517d4a(0x10a)},{'name':_0x517d4a(0xe1),'glyph':'A','row':0x7,'col':0xc,'dRow':0x1,'dCol':0x1,'calories':0xb4,'color':_0x517d4a(0xc8)},{'name':_0x517d4a(0xd5),'glyph':'P','row':0x12,'col':0x5,'dRow':0x0,'dCol':-0x1,'calories':0x82,'color':'tomato'},{'name':_0x517d4a(0x115),'glyph':'K','row':0xe,'col':0x17,'dRow':0x1,'dCol':0x0,'calories':0x64,'color':'cyan'},{'name':_0x517d4a(0xf2),'glyph':'L','row':0x4,'col':0x8,'dRow':-0x1,'dCol':0x0,'calories':0xd2,'color':_0x517d4a(0xca)},{'name':_0x517d4a(0x108),'glyph':'N','row':0x1,'col':0x1d,'dRow':0x0,'dCol':0x1,'calories':0xa0,'color':_0x517d4a(0xcb)}];this[_0x517d4a(0xd2)]=_0x4b63d9[_0x517d4a(0xe2)](_0x19e457=>new Creature(_0x19e457));}[a0_0x3be34a(0xf9)](_0x3d3d90){const _0x391ada=a0_0x3be34a;this['creatures'][_0x391ada(0xf5)](_0x1cfcab=>_0x1cfcab['draw'](_0x3d3d90));}['erase'](_0x447bde){const _0x5ac65f=a0_0x3be34a;this['creatures'][_0x5ac65f(0xf5)](_0x5e44ef=>_0x5e44ef[_0x5ac65f(0x114)](_0x447bde));}[a0_0x3be34a(0xc7)](_0xc9bee4,_0x1b8f38){const _0x57f217=a0_0x3be34a;this[_0x57f217(0xd2)]['forEach'](_0x1db32a=>_0x1db32a[_0x57f217(0x10b)](_0xc9bee4,_0x1b8f38));}[a0_0x3be34a(0xfa)](_0x44454b,_0x41cdce){const _0x48d161=a0_0x3be34a;return this[_0x48d161(0xd2)]['find'](_0x429ea4=>_0x429ea4[_0x48d161(0xe6)](_0x44454b,_0x41cdce));}[a0_0x3be34a(0xd3)](_0x40384b){const _0x45f248=a0_0x3be34a;this[_0x45f248(0xd2)]=this[_0x45f248(0xd2)][_0x45f248(0xf7)](_0x50c4c2=>_0x50c4c2!=_0x40384b);}['creatureCount'](){const _0x2fd010=a0_0x3be34a;return this[_0x2fd010(0xd2)][_0x2fd010(0x10c)];}[a0_0x3be34a(0x118)](){const _0x42fc9f=a0_0x3be34a;return this[_0x42fc9f(0xd2)][_0x42fc9f(0xe2)](_0x22db58=>_0x22db58[_0x42fc9f(0x118)]())[_0x42fc9f(0x102)](_0x42fc9f(0x119));}}function a0_0x30a0(){const _0x1a2c22=['Turn\x20','sleepTimeout','Lynx','2Gfeeow','Hedgehog','forEach','Boar','filter','634447kjwhAT','draw','creatureAtPosition','playerCalories','rest','deepskyblue','setStatusLine','keydown','color','move','join','violet','initialCalories','magenta','6223617adcEOP','white','Falcon','Having\x20eaten\x20everything,\x20player\x20wins!','chartreuse','takeTurn','length','Rabbit','colCount','creatureList','orange','assign','glyph','Owl','erase','Skunk','statusString','\x20cals.\x20','toString','<br>','kCaloriesConsumedPerMove','dRow','playerCol','name','takeTurns','gold','yellow','dodgerblue','orangered','rowCount','8YUVSnN','4915106ESVQpY','Fox','main-canvas','drawCharAt','creatures','removeCreature','dCol','Porcupine','kInitialPlayerCalories','green','ArrowRight','col','grid','1265240gPqkmA','kCaloriesGainedPerRest','crimson','kCaloriesGainedPerMeal','3117480hMVmzS','getElementById','Badger','map','gameOver','writeLine','ArrowDown','positionEquals','3136100qFiExN','eraseCharAt','turnCount','ArrowUp','row','calories','playerRow','Mouse','1453389GktgRz'];a0_0x30a0=function(){return _0x1a2c22;};return a0_0x30a0();}