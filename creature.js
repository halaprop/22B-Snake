const a0_0x1b80e9=a0_0x34e1;function a0_0x2ede(){const _0x4edfdc=['Squirrel','kCaloriesGainedPerMeal','tomato','Owl','cout','initialCalories','erase','88gVfBuX','eraseCharAt','violet','calories','gameOver','\x20cals.\x20','Porcupine','dodgerblue','colCount','getElementById','assign','720760oxmPjZ','green','4hPckhk','writeLine','26407njZUSD','42190nhjChx','white','positionEquals','takeTurn','Turn\x20','rowCount','deepskyblue','ArrowRight','Ate\x20the\x20','name','resting','creatureCount','creatureList','290842ymfPAK','toString','Rabbit','992733sCcCfD','playerCalories','dCol','statusString','Falcon','27XMhNWE','grid','kCaloriesGainedPerRest','draw','forEach','Raccoon','length','orangered','ArrowLeft','Having\x20starved,\x20player\x20dies.','<br>','kCaloriesConsumedPerMove','1555sjCjgt','color','sleepTimeout','cyan','Badger','Fox','find','addCreaturesFromFile','.\x20Player\x20has\x20','ArrowUp','map','Boar','drawCharAt','Skunk','takeTurns','dRow','playerCol','Lynx','padStart','filter','creatureAtPosition','magenta','orange','crimson','main-canvas','playerRow','Deer','Hedgehog','48DpyhXW','row','cout-lines','chartreuse','move','rest','kInitialPlayerCalories','join','199437hsRplq','col','creatures','aqua','setStatusLine','turnCount'];a0_0x2ede=function(){return _0x4edfdc;};return a0_0x2ede();}(function(_0x5dc9b0,_0x32a99c){const _0x35e8ab=a0_0x34e1,_0x48d41a=_0x5dc9b0();while(!![]){try{const _0x3c203c=parseInt(_0x35e8ab(0x1b0))/0x1+-parseInt(_0x35e8ab(0x1be))/0x2+parseInt(_0x35e8ab(0x1c1))/0x3+-parseInt(_0x35e8ab(0x1ae))/0x4*(parseInt(_0x35e8ab(0x1d2))/0x5)+parseInt(_0x35e8ab(0x1ee))/0x6*(parseInt(_0x35e8ab(0x194))/0x7)+-parseInt(_0x35e8ab(0x1ac))/0x8*(parseInt(_0x35e8ab(0x1c6))/0x9)+parseInt(_0x35e8ab(0x1b1))/0xa*(parseInt(_0x35e8ab(0x1a1))/0xb);if(_0x3c203c===_0x32a99c)break;else _0x48d41a['push'](_0x48d41a['shift']());}catch(_0x574b38){_0x48d41a['push'](_0x48d41a['shift']());}}}(a0_0x2ede,0x318e5));import{ConsoleGrid,Cout}from'./console-grid.js';function a0_0x34e1(_0x46deb9,_0x4e98f5){const _0x2edece=a0_0x2ede();return a0_0x34e1=function(_0x34e147,_0x536b6c){_0x34e147=_0x34e147-0x190;let _0x1734af=_0x2edece[_0x34e147];return _0x1734af;},a0_0x34e1(_0x46deb9,_0x4e98f5);}export class CreaturesApp{static [a0_0x1b80e9(0x192)]=0x78;static ['kCaloriesConsumedPerMove']=0x5;constructor(){const _0x39ebd9=a0_0x1b80e9,_0xa38cb4={'canvas':document[_0x39ebd9(0x1aa)](_0x39ebd9(0x1ea)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x39ebd9(0x1d4)]=0x64,this['grid']=new ConsoleGrid(_0xa38cb4);const _0x19fcd1=document[_0x39ebd9(0x1aa)](_0x39ebd9(0x1f0));this['cout']=new Cout(_0x19fcd1),this[_0x39ebd9(0x1eb)]=0x5,this['playerCol']=0x5,this[_0x39ebd9(0x1c2)]=CreaturesApp['kInitialPlayerCalories'],this[_0x39ebd9(0x199)]=0x0,this[_0x39ebd9(0x1a5)]=![],this[_0x39ebd9(0x1bd)]=new CreatureList(),this[_0x39ebd9(0x1bd)]['addCreaturesFromFile'](),this[_0x39ebd9(0x1bd)]['draw'](this[_0x39ebd9(0x1c7)]),this[_0x39ebd9(0x1c7)][_0x39ebd9(0x1de)](this[_0x39ebd9(0x1eb)],this[_0x39ebd9(0x1e2)],'@',_0x39ebd9(0x1b2)),this[_0x39ebd9(0x1c7)][_0x39ebd9(0x198)](this['statusString'](this[_0x39ebd9(0x1c2)],'')),this[_0x39ebd9(0x19e)][_0x39ebd9(0x1af)](this[_0x39ebd9(0x1bd)][_0x39ebd9(0x1bf)]());}['statusString'](_0x4402ff,_0xf91b87){const _0x2b94f8=a0_0x1b80e9;return _0x2b94f8(0x1b5)+this[_0x2b94f8(0x199)]+_0x2b94f8(0x1da)+_0x4402ff+_0x2b94f8(0x1a6)+_0xf91b87;}['keydown'](_0x5e69bb){const _0x5913e1=a0_0x1b80e9;if(this['gameOver'])return;let _0x4b9688=![],_0x389a45='';this[_0x5913e1(0x1bd)][_0x5913e1(0x1a0)](this[_0x5913e1(0x1c7)]),this['grid'][_0x5913e1(0x1a2)](this[_0x5913e1(0x1eb)],this[_0x5913e1(0x1e2)]);switch(_0x5e69bb){case _0x5913e1(0x1db):this[_0x5913e1(0x1eb)]>0x0&&(_0x4b9688=!![],this[_0x5913e1(0x1eb)]--);break;case'ArrowDown':this[_0x5913e1(0x1eb)]+0x1<this['grid']['rowCount']&&(_0x4b9688=!![],this[_0x5913e1(0x1eb)]++);break;case _0x5913e1(0x1ce):this[_0x5913e1(0x1e2)]>0x0&&(_0x4b9688=!![],this[_0x5913e1(0x1e2)]--);break;case _0x5913e1(0x1b8):this[_0x5913e1(0x1e2)]+0x1<this[_0x5913e1(0x1c7)][_0x5913e1(0x1a9)]&&(_0x4b9688=!![],this[_0x5913e1(0x1e2)]++);break;case'Q':case'q':this['gameOver']=!![];break;default:break;}if(!this[_0x5913e1(0x1a5)]){_0x4b9688&&(this[_0x5913e1(0x1c2)]-=CreaturesApp[_0x5913e1(0x1d1)]);this[_0x5913e1(0x1bd)]['takeTurns'](this[_0x5913e1(0x1c7)][_0x5913e1(0x1b6)],this[_0x5913e1(0x1c7)][_0x5913e1(0x1a9)]);let _0x4c2030=this['creatureList'][_0x5913e1(0x1e6)](this[_0x5913e1(0x1eb)],this['playerCol']);_0x4c2030&&(_0x389a45=_0x5913e1(0x1b9)+_0x4c2030[_0x5913e1(0x1ba)],this['playerCalories']+=_0x4c2030['calories'],this['creatureList']['removeCreature'](_0x4c2030),this[_0x5913e1(0x1bd)][_0x5913e1(0x1bc)]()==0x0&&(_0x389a45='Having\x20eaten\x20everything,\x20player\x20wins!',this[_0x5913e1(0x1a5)]=!![])),this[_0x5913e1(0x1c2)]<=0x0&&(_0x389a45=_0x5913e1(0x1cf),this[_0x5913e1(0x1a5)]=!![]),this[_0x5913e1(0x199)]++;}this[_0x5913e1(0x1bd)][_0x5913e1(0x1c9)](this[_0x5913e1(0x1c7)]),this['grid'][_0x5913e1(0x1de)](this[_0x5913e1(0x1eb)],this[_0x5913e1(0x1e2)],'@',_0x5913e1(0x1b2)),this[_0x5913e1(0x1c7)][_0x5913e1(0x198)](this[_0x5913e1(0x1c4)](this[_0x5913e1(0x1c2)],_0x389a45)),this[_0x5913e1(0x19e)][_0x5913e1(0x1af)](this[_0x5913e1(0x1bd)][_0x5913e1(0x1bf)]());}}class Creature{constructor(_0x10c887){const _0x1ac421=a0_0x1b80e9;Object[_0x1ac421(0x1ab)](this,_0x10c887),this['initialCalories']=this[_0x1ac421(0x1a4)];}static [a0_0x1b80e9(0x1d1)]=0x5;static [a0_0x1b80e9(0x19b)]=0x3c;static [a0_0x1b80e9(0x1c8)]=0x5;[a0_0x1b80e9(0x1b3)](_0xb9eb1c,_0x32b05b){const _0x5de7f4=a0_0x1b80e9;return this[_0x5de7f4(0x1ef)]==_0xb9eb1c&&this[_0x5de7f4(0x195)]==_0x32b05b;}[a0_0x1b80e9(0x1b4)](_0x6e197e,_0x2eb52e){const _0xb42cda=a0_0x1b80e9;this[_0xb42cda(0x1bb)]?this[_0xb42cda(0x191)]():this[_0xb42cda(0x190)](_0x6e197e,_0x2eb52e);}[a0_0x1b80e9(0x190)](_0x3900f5,_0x5343d2){const _0x221b51=a0_0x1b80e9;let _0x36636a=this[_0x221b51(0x1ef)]+this[_0x221b51(0x1e1)];(_0x36636a<0x0||_0x36636a>=_0x3900f5)&&(this[_0x221b51(0x1e1)]*=-0x1,_0x36636a=this[_0x221b51(0x1ef)]+this[_0x221b51(0x1e1)]);let _0x9daf67=this[_0x221b51(0x195)]+this[_0x221b51(0x1c3)];(_0x9daf67<0x0||_0x9daf67>=_0x5343d2)&&(this[_0x221b51(0x1c3)]*=-0x1,_0x9daf67=this[_0x221b51(0x195)]+this[_0x221b51(0x1c3)]),(this[_0x221b51(0x1ef)]!=_0x36636a||this[_0x221b51(0x195)]!=_0x9daf67)&&(this[_0x221b51(0x1ef)]=_0x36636a,this[_0x221b51(0x195)]=_0x9daf67,this['calories']-=Creature[_0x221b51(0x1d1)],this[_0x221b51(0x1a4)]<=0x0&&(this['resting']=!![]));}[a0_0x1b80e9(0x191)](){const _0x569831=a0_0x1b80e9;this[_0x569831(0x1a4)]+=Creature['kCaloriesGainedPerRest'],this[_0x569831(0x1a4)]>0.75*this[_0x569831(0x19f)]&&(this['resting']=![]);}[a0_0x1b80e9(0x1c9)](_0x25dba5){const _0x9bd092=a0_0x1b80e9;_0x25dba5[_0x9bd092(0x1de)](this[_0x9bd092(0x1ef)],this['col'],this['glyph'],this[_0x9bd092(0x1d3)]);}[a0_0x1b80e9(0x1a0)](_0x858a78){const _0x43aa46=a0_0x1b80e9;_0x858a78[_0x43aa46(0x1a2)](this['row'],this['col']);}[a0_0x1b80e9(0x1bf)](){const _0x35d15d=a0_0x1b80e9;return this[_0x35d15d(0x1ba)]['padEnd'](0xa)+'\x20('+this['glyph']+')\x20'+this[_0x35d15d(0x1a4)][_0x35d15d(0x1bf)]()[_0x35d15d(0x1e4)](0x4);}}class CreatureList{constructor(){}[a0_0x1b80e9(0x1d9)](){const _0x4266b2=a0_0x1b80e9,_0xac9871=[{'name':'Mouse','glyph':'M','row':0x5,'col':0x2,'dRow':0x1,'dCol':0x1,'calories':0x5a,'color':_0x4266b2(0x197)},{'name':_0x4266b2(0x1c0),'glyph':'R','row':0x8,'col':0x1b,'dRow':0x1,'dCol':-0x1,'calories':0x6e,'color':_0x4266b2(0x1ad)},{'name':_0x4266b2(0x1dd),'glyph':'B','row':0x12,'col':0x12,'dRow':-0x1,'dCol':0x0,'calories':0xf0,'color':'yellow'},{'name':_0x4266b2(0x19a),'glyph':'S','row':0x9,'col':0x4,'dRow':-0x1,'dCol':-0x1,'calories':0x64,'color':_0x4266b2(0x1a3)},{'name':_0x4266b2(0x1ec),'glyph':'D','row':0xc,'col':0xf,'dRow':0x1,'dCol':0x0,'calories':0x15e,'color':_0x4266b2(0x1e7)},{'name':_0x4266b2(0x1d7),'glyph':'F','row':0x6,'col':0x13,'dRow':-0x1,'dCol':0x1,'calories':0x96,'color':_0x4266b2(0x1e8)},{'name':_0x4266b2(0x1cb),'glyph':'C','row':0xa,'col':0x7,'dRow':0x0,'dCol':0x1,'calories':0x78,'color':_0x4266b2(0x1e9)},{'name':_0x4266b2(0x19d),'glyph':'O','row':0x3,'col':0x19,'dRow':0x1,'dCol':-0x1,'calories':0x8c,'color':_0x4266b2(0x1b7)},{'name':_0x4266b2(0x1ed),'glyph':'H','row':0xf,'col':0xa,'dRow':-0x1,'dCol':0x1,'calories':0x46,'color':_0x4266b2(0x1f1)},{'name':_0x4266b2(0x1d6),'glyph':'A','row':0x7,'col':0xc,'dRow':0x1,'dCol':0x1,'calories':0xb4,'color':'gold'},{'name':_0x4266b2(0x1a7),'glyph':'P','row':0x12,'col':0x5,'dRow':0x0,'dCol':-0x1,'calories':0x82,'color':_0x4266b2(0x19c)},{'name':_0x4266b2(0x1df),'glyph':'K','row':0xe,'col':0x17,'dRow':0x1,'dCol':0x0,'calories':0x64,'color':_0x4266b2(0x1d5)},{'name':_0x4266b2(0x1e3),'glyph':'L','row':0x4,'col':0x8,'dRow':-0x1,'dCol':0x0,'calories':0xd2,'color':_0x4266b2(0x1a8)},{'name':_0x4266b2(0x1c5),'glyph':'N','row':0x1,'col':0x1d,'dRow':0x0,'dCol':0x1,'calories':0xa0,'color':_0x4266b2(0x1cd)}];this[_0x4266b2(0x196)]=_0xac9871[_0x4266b2(0x1dc)](_0x3361bd=>new Creature(_0x3361bd));}[a0_0x1b80e9(0x1c9)](_0x2954f7){const _0x2a33a8=a0_0x1b80e9;this[_0x2a33a8(0x196)][_0x2a33a8(0x1ca)](_0x37e99a=>_0x37e99a[_0x2a33a8(0x1c9)](_0x2954f7));}[a0_0x1b80e9(0x1a0)](_0x13d687){const _0x1deb9d=a0_0x1b80e9;this[_0x1deb9d(0x196)][_0x1deb9d(0x1ca)](_0x6b0d71=>_0x6b0d71[_0x1deb9d(0x1a0)](_0x13d687));}[a0_0x1b80e9(0x1e0)](_0x228ef9,_0x2a4b21){const _0x19099a=a0_0x1b80e9;this[_0x19099a(0x196)]['forEach'](_0x3ace54=>_0x3ace54[_0x19099a(0x1b4)](_0x228ef9,_0x2a4b21));}[a0_0x1b80e9(0x1e6)](_0x444e2e,_0x497047){const _0x6b296a=a0_0x1b80e9;return this[_0x6b296a(0x196)][_0x6b296a(0x1d8)](_0x3edbf2=>_0x3edbf2['positionEquals'](_0x444e2e,_0x497047));}['removeCreature'](_0x11556d){const _0x32cdc9=a0_0x1b80e9;this[_0x32cdc9(0x196)]=this[_0x32cdc9(0x196)][_0x32cdc9(0x1e5)](_0x1361ff=>_0x1361ff!=_0x11556d);}[a0_0x1b80e9(0x1bc)](){const _0x3643c8=a0_0x1b80e9;return this['creatures'][_0x3643c8(0x1cc)];}['toString'](){const _0x18c179=a0_0x1b80e9;return this[_0x18c179(0x196)][_0x18c179(0x1dc)](_0x47be0a=>_0x47be0a[_0x18c179(0x1bf)]())[_0x18c179(0x193)](_0x18c179(0x1d0));}}