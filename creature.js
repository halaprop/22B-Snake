function a0_0x19b4(_0x4142c2,_0x51bf42){const _0x59ee36=a0_0x59ee();return a0_0x19b4=function(_0x19b4d0,_0x1257f9){_0x19b4d0=_0x19b4d0-0x81;let _0x1a938f=_0x59ee36[_0x19b4d0];return _0x1a938f;},a0_0x19b4(_0x4142c2,_0x51bf42);}const a0_0x74c1b5=a0_0x19b4;(function(_0x4a2b9b,_0x4407da){const _0x53fe14=a0_0x19b4,_0x1e5ffb=_0x4a2b9b();while(!![]){try{const _0x3f5374=parseInt(_0x53fe14(0xa0))/0x1+parseInt(_0x53fe14(0xb9))/0x2+-parseInt(_0x53fe14(0x81))/0x3+-parseInt(_0x53fe14(0xc6))/0x4+-parseInt(_0x53fe14(0xbe))/0x5+-parseInt(_0x53fe14(0xbb))/0x6+parseInt(_0x53fe14(0x88))/0x7;if(_0x3f5374===_0x4407da)break;else _0x1e5ffb['push'](_0x1e5ffb['shift']());}catch(_0x44f0c6){_0x1e5ffb['push'](_0x1e5ffb['shift']());}}}(a0_0x59ee,0xcfcd2));function a0_0x59ee(){const _0x114c5d=['colCount','4066656OodAYt','ArrowUp','color','resting','.\x20Player\x20has\x20','cout','name','rest','addCreaturesFromFile','padEnd','col','Skunk','Fox','filter','dCol','creatureAtPosition','violet','main-canvas','5078226KdWJXY','forEach','draw','ArrowLeft','tomato','erase','dRow','27861526KBhZYf','takeTurn','orange','grid','magenta','<br>','Boar','turnCount','yellow','Badger','Deer','green','statusString','kCaloriesGainedPerRest','white','gameOver','playerCalories','eraseCharAt','drawCharAt','ArrowRight','ArrowDown','cout-lines','playerRow','kCaloriesConsumedPerMove','341786IvABWd','cyan','positionEquals','initialCalories','keydown','aqua','sleepTimeout','setStatusLine','row','Hedgehog','glyph','playerCol','removeCreature','rowCount','Squirrel','gold','Porcupine','getElementById','length','crimson','Having\x20starved,\x20player\x20dies.','move','padStart','writeLine','dodgerblue','2688642CaRXiH','takeTurns','3895176tkYJWi','Rabbit','kInitialPlayerCalories','7282845lSdgDB','toString','creatures','chartreuse','calories','creatureList','Having\x20eaten\x20everything,\x20player\x20wins!'];a0_0x59ee=function(){return _0x114c5d;};return a0_0x59ee();}import{ConsoleGrid,Cout}from'./console-grid.js';export class CreaturesApp{static [a0_0x74c1b5(0xbd)]=0x78;static [a0_0x74c1b5(0x9f)]=0x5;constructor(){const _0x4ca2d5=a0_0x74c1b5,_0x42e4f6={'canvas':document['getElementById'](_0x4ca2d5(0xd7)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x4ca2d5(0xa6)]=0x64,this[_0x4ca2d5(0x8b)]=new ConsoleGrid(_0x42e4f6);const _0x1deb5d=document[_0x4ca2d5(0xb1)](_0x4ca2d5(0x9d));this['cout']=new Cout(_0x1deb5d),this[_0x4ca2d5(0x9e)]=0x5,this[_0x4ca2d5(0xab)]=0x5,this[_0x4ca2d5(0x98)]=CreaturesApp[_0x4ca2d5(0xbd)],this[_0x4ca2d5(0x8f)]=0x0,this[_0x4ca2d5(0x97)]=![],this[_0x4ca2d5(0xc3)]=new CreatureList(),this['creatureList'][_0x4ca2d5(0xce)](),this[_0x4ca2d5(0xc3)][_0x4ca2d5(0x83)](this['grid']),this[_0x4ca2d5(0x8b)]['drawCharAt'](this[_0x4ca2d5(0x9e)],this['playerCol'],'@',_0x4ca2d5(0x96)),this[_0x4ca2d5(0x8b)][_0x4ca2d5(0xa7)](this[_0x4ca2d5(0x94)](this['playerCalories'],'')),this[_0x4ca2d5(0xcb)][_0x4ca2d5(0xb7)](this[_0x4ca2d5(0xc3)][_0x4ca2d5(0xbf)]());}[a0_0x74c1b5(0x94)](_0x53227f,_0x5c8b3b){const _0x51517b=a0_0x74c1b5;return'Turn\x20'+this[_0x51517b(0x8f)]+_0x51517b(0xca)+_0x53227f+'\x20cals.\x20'+_0x5c8b3b;}[a0_0x74c1b5(0xa4)](_0x199032){const _0x278b4d=a0_0x74c1b5;if(this[_0x278b4d(0x97)])return;let _0x48bc7d=![],_0x320196='';this[_0x278b4d(0xc3)]['erase'](this['grid']),this[_0x278b4d(0x8b)][_0x278b4d(0x99)](this[_0x278b4d(0x9e)],this[_0x278b4d(0xab)]);switch(_0x199032){case _0x278b4d(0xc7):this[_0x278b4d(0x9e)]>0x0&&(_0x48bc7d=!![],this['playerRow']--);break;case _0x278b4d(0x9c):this['playerRow']+0x1<this[_0x278b4d(0x8b)][_0x278b4d(0xad)]&&(_0x48bc7d=!![],this[_0x278b4d(0x9e)]++);break;case _0x278b4d(0x84):this[_0x278b4d(0xab)]>0x0&&(_0x48bc7d=!![],this['playerCol']--);break;case _0x278b4d(0x9b):this[_0x278b4d(0xab)]+0x1<this[_0x278b4d(0x8b)][_0x278b4d(0xc5)]&&(_0x48bc7d=!![],this[_0x278b4d(0xab)]++);break;case'Q':case'q':this['gameOver']=!![];break;default:break;}if(!this['gameOver']){_0x48bc7d&&(this[_0x278b4d(0x98)]-=CreaturesApp[_0x278b4d(0x9f)]);this[_0x278b4d(0xc3)]['takeTurns'](this[_0x278b4d(0x8b)][_0x278b4d(0xad)],this[_0x278b4d(0x8b)][_0x278b4d(0xc5)]);let _0x3e35f5=this[_0x278b4d(0xc3)][_0x278b4d(0xd5)](this[_0x278b4d(0x9e)],this[_0x278b4d(0xab)]);_0x3e35f5&&(_0x320196='Ate\x20the\x20'+_0x3e35f5['name'],this[_0x278b4d(0x98)]+=_0x3e35f5[_0x278b4d(0xc2)],this['creatureList'][_0x278b4d(0xac)](_0x3e35f5),this[_0x278b4d(0xc3)]['creatureCount']()==0x0&&(_0x320196=_0x278b4d(0xc4),this[_0x278b4d(0x97)]=!![])),this[_0x278b4d(0x98)]<=0x0&&(_0x320196=_0x278b4d(0xb4),this[_0x278b4d(0x97)]=!![]),this[_0x278b4d(0x8f)]++;}this[_0x278b4d(0xc3)][_0x278b4d(0x83)](this[_0x278b4d(0x8b)]),this[_0x278b4d(0x8b)][_0x278b4d(0x9a)](this[_0x278b4d(0x9e)],this[_0x278b4d(0xab)],'@',_0x278b4d(0x96)),this['grid'][_0x278b4d(0xa7)](this[_0x278b4d(0x94)](this[_0x278b4d(0x98)],_0x320196)),this[_0x278b4d(0xcb)]['writeLine'](this[_0x278b4d(0xc3)]['toString']());}['contestStatus'](){const _0x1e7318=a0_0x74c1b5,_0x65c41e=this[_0x1e7318(0x8f)],_0x13411f=this[_0x1e7318(0x98)],_0x43959e=this[_0x1e7318(0xc3)]['creatureCount']();return{'turnCount':_0x65c41e,'calories':_0x13411f,'creatureCount':_0x43959e};}}class Creature{constructor(_0xb60998){const _0x1226e3=a0_0x74c1b5;Object['assign'](this,_0xb60998),this[_0x1226e3(0xa3)]=this[_0x1226e3(0xc2)];}static [a0_0x74c1b5(0x9f)]=0x5;static ['kCaloriesGainedPerMeal']=0x3c;static [a0_0x74c1b5(0x95)]=0x5;[a0_0x74c1b5(0xa2)](_0x5dd627,_0x3126b){const _0x32a73e=a0_0x74c1b5;return this[_0x32a73e(0xa8)]==_0x5dd627&&this[_0x32a73e(0xd0)]==_0x3126b;}[a0_0x74c1b5(0x89)](_0x6fc62e,_0x559250){const _0x5683f0=a0_0x74c1b5;this[_0x5683f0(0xc9)]?this[_0x5683f0(0xcd)]():this[_0x5683f0(0xb5)](_0x6fc62e,_0x559250);}[a0_0x74c1b5(0xb5)](_0x8584b1,_0x7c47ce){const _0x123268=a0_0x74c1b5;let _0x5db2c2=this[_0x123268(0xa8)]+this[_0x123268(0x87)];(_0x5db2c2<0x0||_0x5db2c2>=_0x8584b1)&&(this['dRow']*=-0x1,_0x5db2c2=this[_0x123268(0xa8)]+this[_0x123268(0x87)]);let _0x578f6d=this['col']+this[_0x123268(0xd4)];(_0x578f6d<0x0||_0x578f6d>=_0x7c47ce)&&(this[_0x123268(0xd4)]*=-0x1,_0x578f6d=this[_0x123268(0xd0)]+this[_0x123268(0xd4)]),(this[_0x123268(0xa8)]!=_0x5db2c2||this['col']!=_0x578f6d)&&(this[_0x123268(0xa8)]=_0x5db2c2,this[_0x123268(0xd0)]=_0x578f6d,this[_0x123268(0xc2)]-=Creature[_0x123268(0x9f)],this[_0x123268(0xc2)]<=0x0&&(this['resting']=!![]));}['rest'](){const _0x52be61=a0_0x74c1b5;this[_0x52be61(0xc2)]+=Creature['kCaloriesGainedPerRest'],this[_0x52be61(0xc2)]>0.75*this[_0x52be61(0xa3)]&&(this['resting']=![]);}['draw'](_0x11c49b){const _0x315846=a0_0x74c1b5;_0x11c49b[_0x315846(0x9a)](this[_0x315846(0xa8)],this[_0x315846(0xd0)],this['glyph'],this[_0x315846(0xc8)]);}[a0_0x74c1b5(0x86)](_0x14dec0){const _0x45cc58=a0_0x74c1b5;_0x14dec0[_0x45cc58(0x99)](this[_0x45cc58(0xa8)],this[_0x45cc58(0xd0)]);}[a0_0x74c1b5(0xbf)](){const _0x1b0205=a0_0x74c1b5;return this[_0x1b0205(0xcc)][_0x1b0205(0xcf)](0xa)+'\x20('+this[_0x1b0205(0xaa)]+')\x20'+this[_0x1b0205(0xc2)][_0x1b0205(0xbf)]()[_0x1b0205(0xb6)](0x4);}}class CreatureList{constructor(){}[a0_0x74c1b5(0xce)](){const _0x33d7f8=a0_0x74c1b5,_0x74abe=[{'name':'Mouse','glyph':'M','row':0x5,'col':0x2,'dRow':0x1,'dCol':0x1,'calories':0x5a,'color':_0x33d7f8(0xa5)},{'name':_0x33d7f8(0xbc),'glyph':'R','row':0x8,'col':0x1b,'dRow':0x1,'dCol':-0x1,'calories':0x6e,'color':_0x33d7f8(0x93)},{'name':_0x33d7f8(0x8e),'glyph':'B','row':0x12,'col':0x12,'dRow':-0x1,'dCol':0x0,'calories':0xf0,'color':_0x33d7f8(0x90)},{'name':_0x33d7f8(0xae),'glyph':'S','row':0x9,'col':0x4,'dRow':-0x1,'dCol':-0x1,'calories':0x64,'color':_0x33d7f8(0xd6)},{'name':_0x33d7f8(0x92),'glyph':'D','row':0xc,'col':0xf,'dRow':0x1,'dCol':0x0,'calories':0x15e,'color':_0x33d7f8(0x8c)},{'name':_0x33d7f8(0xd2),'glyph':'F','row':0x6,'col':0x13,'dRow':-0x1,'dCol':0x1,'calories':0x96,'color':_0x33d7f8(0x8a)},{'name':'Raccoon','glyph':'C','row':0xa,'col':0x7,'dRow':0x0,'dCol':0x1,'calories':0x78,'color':_0x33d7f8(0xb3)},{'name':'Owl','glyph':'O','row':0x3,'col':0x19,'dRow':0x1,'dCol':-0x1,'calories':0x8c,'color':'deepskyblue'},{'name':_0x33d7f8(0xa9),'glyph':'H','row':0xf,'col':0xa,'dRow':-0x1,'dCol':0x1,'calories':0x46,'color':_0x33d7f8(0xc1)},{'name':_0x33d7f8(0x91),'glyph':'A','row':0x7,'col':0xc,'dRow':0x1,'dCol':0x1,'calories':0xb4,'color':_0x33d7f8(0xaf)},{'name':_0x33d7f8(0xb0),'glyph':'P','row':0x12,'col':0x5,'dRow':0x0,'dCol':-0x1,'calories':0x82,'color':_0x33d7f8(0x85)},{'name':_0x33d7f8(0xd1),'glyph':'K','row':0xe,'col':0x17,'dRow':0x1,'dCol':0x0,'calories':0x64,'color':_0x33d7f8(0xa1)},{'name':'Lynx','glyph':'L','row':0x4,'col':0x8,'dRow':-0x1,'dCol':0x0,'calories':0xd2,'color':_0x33d7f8(0xb8)},{'name':'Falcon','glyph':'N','row':0x1,'col':0x1d,'dRow':0x0,'dCol':0x1,'calories':0xa0,'color':'orangered'}];this['creatures']=_0x74abe['map'](_0x3fb953=>new Creature(_0x3fb953));}[a0_0x74c1b5(0x83)](_0xd18ef4){const _0x2eb503=a0_0x74c1b5;this[_0x2eb503(0xc0)]['forEach'](_0x5b9b3c=>_0x5b9b3c[_0x2eb503(0x83)](_0xd18ef4));}[a0_0x74c1b5(0x86)](_0xfd1316){const _0x1456bf=a0_0x74c1b5;this[_0x1456bf(0xc0)][_0x1456bf(0x82)](_0x5e2edf=>_0x5e2edf[_0x1456bf(0x86)](_0xfd1316));}[a0_0x74c1b5(0xba)](_0x543058,_0x220e69){const _0x242651=a0_0x74c1b5;this[_0x242651(0xc0)]['forEach'](_0x33c063=>_0x33c063['takeTurn'](_0x543058,_0x220e69));}[a0_0x74c1b5(0xd5)](_0x19ade0,_0x11c611){const _0x4bd58d=a0_0x74c1b5;return this[_0x4bd58d(0xc0)]['find'](_0x268507=>_0x268507['positionEquals'](_0x19ade0,_0x11c611));}[a0_0x74c1b5(0xac)](_0x1f4fa0){const _0x42aa16=a0_0x74c1b5;this[_0x42aa16(0xc0)]=this[_0x42aa16(0xc0)][_0x42aa16(0xd3)](_0x2a84fc=>_0x2a84fc!=_0x1f4fa0);}['creatureCount'](){const _0xc22c98=a0_0x74c1b5;return this[_0xc22c98(0xc0)][_0xc22c98(0xb2)];}['toString'](){const _0x21632a=a0_0x74c1b5;return this[_0x21632a(0xc0)]['map'](_0x1c1b9f=>_0x1c1b9f['toString']())['join'](_0x21632a(0x8d));}}