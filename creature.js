const a0_0x4fafc7=a0_0x449b;function a0_0x449b(_0x550052,_0x305de0){const _0x3a1408=a0_0x3a14();return a0_0x449b=function(_0x449bd6,_0x584245){_0x449bd6=_0x449bd6-0x1a2;let _0x4fc280=_0x3a1408[_0x449bd6];return _0x4fc280;},a0_0x449b(_0x550052,_0x305de0);}(function(_0x57c773,_0x4cb443){const _0x3d76f7=a0_0x449b,_0x5d2835=_0x57c773();while(!![]){try{const _0x56f2c3=-parseInt(_0x3d76f7(0x1be))/0x1*(-parseInt(_0x3d76f7(0x1b0))/0x2)+-parseInt(_0x3d76f7(0x1a8))/0x3*(-parseInt(_0x3d76f7(0x1b8))/0x4)+-parseInt(_0x3d76f7(0x1f3))/0x5*(-parseInt(_0x3d76f7(0x1d0))/0x6)+-parseInt(_0x3d76f7(0x1b7))/0x7+parseInt(_0x3d76f7(0x1cc))/0x8*(-parseInt(_0x3d76f7(0x1f5))/0x9)+-parseInt(_0x3d76f7(0x1f1))/0xa+parseInt(_0x3d76f7(0x1d3))/0xb;if(_0x56f2c3===_0x4cb443)break;else _0x5d2835['push'](_0x5d2835['shift']());}catch(_0x2fd7a8){_0x5d2835['push'](_0x5d2835['shift']());}}}(a0_0x3a14,0x35ee4));import{ConsoleGrid,Cout}from'./console-grid.js';export class CreaturesApp{static [a0_0x4fafc7(0x1d9)]=0x78;static [a0_0x4fafc7(0x1ad)]=0x5;constructor(){const _0x3cb4db=a0_0x4fafc7,_0x3968e4={'canvas':document['getElementById'](_0x3cb4db(0x1b9)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x3cb4db(0x1c9)]=0x64,this[_0x3cb4db(0x1cb)]=new ConsoleGrid(_0x3968e4);const _0x3ce2aa=document[_0x3cb4db(0x1b5)](_0x3cb4db(0x1fc));this['cout']=new Cout(_0x3ce2aa),this[_0x3cb4db(0x1a3)]=0x5,this[_0x3cb4db(0x1f8)]=0x5,this[_0x3cb4db(0x1dd)]=CreaturesApp['kInitialPlayerCalories'],this[_0x3cb4db(0x1ba)]=0x0,this[_0x3cb4db(0x1f4)]=![],this['creatureList']=new CreatureList(),this[_0x3cb4db(0x1fb)]['addCreaturesFromFile'](),this['creatureList'][_0x3cb4db(0x1d1)](this[_0x3cb4db(0x1cb)]),this['grid']['drawCharAt'](this[_0x3cb4db(0x1a3)],this[_0x3cb4db(0x1f8)],'@',_0x3cb4db(0x1bb)),this[_0x3cb4db(0x1cb)][_0x3cb4db(0x1f6)](this[_0x3cb4db(0x1e2)](this['playerCalories'],'')),this['cout']['writeLine'](this[_0x3cb4db(0x1fb)]['toString']());}['statusString'](_0x5a86a9,_0x15d7f7){const _0x32d34b=a0_0x4fafc7;return _0x32d34b(0x1cd)+this[_0x32d34b(0x1ba)]+'.\x20Player\x20has\x20'+_0x5a86a9+'\x20cals.\x20'+_0x15d7f7;}[a0_0x4fafc7(0x1c8)](_0x340350){const _0x5bb587=a0_0x4fafc7;if(this[_0x5bb587(0x1f4)])return;let _0x5e86c2=![],_0xb68938='';this[_0x5bb587(0x1fb)][_0x5bb587(0x1f0)](this[_0x5bb587(0x1cb)]),this[_0x5bb587(0x1cb)][_0x5bb587(0x1c4)](this[_0x5bb587(0x1a3)],this['playerCol']);switch(_0x340350){case _0x5bb587(0x1dc):this['playerRow']>0x0&&(_0x5e86c2=!![],this[_0x5bb587(0x1a3)]--);break;case _0x5bb587(0x1ae):this[_0x5bb587(0x1a3)]+0x1<this[_0x5bb587(0x1cb)]['rowCount']&&(_0x5e86c2=!![],this[_0x5bb587(0x1a3)]++);break;case'ArrowLeft':this[_0x5bb587(0x1f8)]>0x0&&(_0x5e86c2=!![],this['playerCol']--);break;case _0x5bb587(0x1eb):this[_0x5bb587(0x1f8)]+0x1<this[_0x5bb587(0x1cb)][_0x5bb587(0x1fd)]&&(_0x5e86c2=!![],this[_0x5bb587(0x1f8)]++);break;case'Q':case'q':this[_0x5bb587(0x1f4)]=!![];break;default:break;}if(!this[_0x5bb587(0x1f4)]){_0x5e86c2&&(this['playerCalories']-=CreaturesApp['kCaloriesConsumedPerMove']);this[_0x5bb587(0x1fb)][_0x5bb587(0x1fa)](this[_0x5bb587(0x1cb)]['rowCount'],this[_0x5bb587(0x1cb)][_0x5bb587(0x1fd)]);let _0x5232f8=this['creatureList'][_0x5bb587(0x1a4)](this['playerRow'],this['playerCol']);_0x5232f8&&(_0xb68938=_0x5bb587(0x1e0)+_0x5232f8[_0x5bb587(0x1c6)],this['playerCalories']+=_0x5232f8[_0x5bb587(0x1d7)],this[_0x5bb587(0x1fb)]['removeCreature'](_0x5232f8),this[_0x5bb587(0x1fb)][_0x5bb587(0x1df)]()==0x0&&(_0xb68938=_0x5bb587(0x1f9),this[_0x5bb587(0x1f4)]=!![])),this[_0x5bb587(0x1dd)]<=0x0&&(_0xb68938='Having\x20starved,\x20player\x20dies.',this[_0x5bb587(0x1f4)]=!![]),this[_0x5bb587(0x1ba)]++;}this[_0x5bb587(0x1fb)]['draw'](this[_0x5bb587(0x1cb)]),this[_0x5bb587(0x1cb)]['drawCharAt'](this['playerRow'],this[_0x5bb587(0x1f8)],'@','white'),this[_0x5bb587(0x1cb)][_0x5bb587(0x1f6)](this[_0x5bb587(0x1e2)](this[_0x5bb587(0x1dd)],_0xb68938)),this['cout'][_0x5bb587(0x1e3)](this[_0x5bb587(0x1fb)][_0x5bb587(0x1b3)]());}}class Creature{constructor(_0x8559da){const _0x40cb3e=a0_0x4fafc7;Object['assign'](this,_0x8559da),this[_0x40cb3e(0x1c5)]=this[_0x40cb3e(0x1d7)];}static [a0_0x4fafc7(0x1ad)]=0x5;static [a0_0x4fafc7(0x1a5)]=0x3c;static [a0_0x4fafc7(0x1a2)]=0x5;['positionEquals'](_0x4c3a25,_0x4b8df3){const _0x6c6a08=a0_0x4fafc7;return this['row']==_0x4c3a25&&this[_0x6c6a08(0x1b6)]==_0x4b8df3;}[a0_0x4fafc7(0x1ac)](_0x16e6e3,_0x8a4b25){const _0x13ed9f=a0_0x4fafc7;this[_0x13ed9f(0x1e1)]?this[_0x13ed9f(0x1c7)]():this['move'](_0x16e6e3,_0x8a4b25);}[a0_0x4fafc7(0x1ee)](_0x41d798,_0x24a0a3){const _0x37a185=a0_0x4fafc7;let _0x3e5f3c=this[_0x37a185(0x1b4)]+this[_0x37a185(0x1f7)];(_0x3e5f3c<0x0||_0x3e5f3c>=_0x41d798)&&(this[_0x37a185(0x1f7)]*=-0x1,_0x3e5f3c=this['row']+this[_0x37a185(0x1f7)]);let _0x294220=this[_0x37a185(0x1b6)]+this[_0x37a185(0x1e4)];(_0x294220<0x0||_0x294220>=_0x24a0a3)&&(this[_0x37a185(0x1e4)]*=-0x1,_0x294220=this['col']+this['dCol']),(this[_0x37a185(0x1b4)]!=_0x3e5f3c||this[_0x37a185(0x1b6)]!=_0x294220)&&(this['row']=_0x3e5f3c,this[_0x37a185(0x1b6)]=_0x294220,this[_0x37a185(0x1d7)]-=Creature[_0x37a185(0x1ad)],this[_0x37a185(0x1d7)]<=0x0&&(this[_0x37a185(0x1e1)]=!![]));}[a0_0x4fafc7(0x1c7)](){const _0x48eefd=a0_0x4fafc7;this[_0x48eefd(0x1d7)]+=Creature[_0x48eefd(0x1a2)],this[_0x48eefd(0x1d7)]>0.75*this[_0x48eefd(0x1c5)]&&(this[_0x48eefd(0x1e1)]=![]);}['draw'](_0x52c1a4){const _0x28d853=a0_0x4fafc7;_0x52c1a4[_0x28d853(0x1a9)](this[_0x28d853(0x1b4)],this['col'],this[_0x28d853(0x1d8)],this[_0x28d853(0x1e6)]);}[a0_0x4fafc7(0x1f0)](_0x5742df){const _0xae4de3=a0_0x4fafc7;_0x5742df[_0xae4de3(0x1c4)](this[_0xae4de3(0x1b4)],this[_0xae4de3(0x1b6)]);}[a0_0x4fafc7(0x1b3)](){const _0x32a15a=a0_0x4fafc7;return this[_0x32a15a(0x1c6)]['padEnd'](0xa)+'\x20('+this['glyph']+')\x20'+this['calories'][_0x32a15a(0x1b3)]()[_0x32a15a(0x1d5)](0x4);}}class CreatureList{constructor(){}[a0_0x4fafc7(0x1d6)](){const _0x21cc26=a0_0x4fafc7,_0x1b98e8=[{'name':_0x21cc26(0x1f2),'glyph':'M','row':0x5,'col':0x2,'dRow':0x1,'dCol':0x1,'calories':0x5a,'color':_0x21cc26(0x1cf)},{'name':_0x21cc26(0x1ce),'glyph':'R','row':0x8,'col':0x1b,'dRow':0x1,'dCol':-0x1,'calories':0x6e,'color':'green'},{'name':_0x21cc26(0x1d4),'glyph':'B','row':0x12,'col':0x12,'dRow':-0x1,'dCol':0x0,'calories':0xf0,'color':_0x21cc26(0x1de)},{'name':_0x21cc26(0x1ec),'glyph':'S','row':0x9,'col':0x4,'dRow':-0x1,'dCol':-0x1,'calories':0x64,'color':_0x21cc26(0x1e5)},{'name':_0x21cc26(0x1bc),'glyph':'D','row':0xc,'col':0xf,'dRow':0x1,'dCol':0x0,'calories':0x15e,'color':_0x21cc26(0x1aa)},{'name':'Fox','glyph':'F','row':0x6,'col':0x13,'dRow':-0x1,'dCol':0x1,'calories':0x96,'color':_0x21cc26(0x1db)},{'name':_0x21cc26(0x1c3),'glyph':'C','row':0xa,'col':0x7,'dRow':0x0,'dCol':0x1,'calories':0x78,'color':_0x21cc26(0x1c1)},{'name':_0x21cc26(0x1bf),'glyph':'O','row':0x3,'col':0x19,'dRow':0x1,'dCol':-0x1,'calories':0x8c,'color':_0x21cc26(0x1ab)},{'name':'Hedgehog','glyph':'H','row':0xf,'col':0xa,'dRow':-0x1,'dCol':0x1,'calories':0x46,'color':_0x21cc26(0x1b1)},{'name':_0x21cc26(0x1da),'glyph':'A','row':0x7,'col':0xc,'dRow':0x1,'dCol':0x1,'calories':0xb4,'color':_0x21cc26(0x1e7)},{'name':_0x21cc26(0x1ef),'glyph':'P','row':0x12,'col':0x5,'dRow':0x0,'dCol':-0x1,'calories':0x82,'color':_0x21cc26(0x1a7)},{'name':'Skunk','glyph':'K','row':0xe,'col':0x17,'dRow':0x1,'dCol':0x0,'calories':0x64,'color':_0x21cc26(0x1b2)},{'name':_0x21cc26(0x1ed),'glyph':'L','row':0x4,'col':0x8,'dRow':-0x1,'dCol':0x0,'calories':0xd2,'color':_0x21cc26(0x1e8)},{'name':_0x21cc26(0x1ca),'glyph':'N','row':0x1,'col':0x1d,'dRow':0x0,'dCol':0x1,'calories':0xa0,'color':'orangered'}];this[_0x21cc26(0x1a6)]=_0x1b98e8[_0x21cc26(0x1bd)](_0xb92db6=>new Creature(_0xb92db6));}[a0_0x4fafc7(0x1d1)](_0x47bbc8){this['creatures']['forEach'](_0x499cbf=>_0x499cbf['draw'](_0x47bbc8));}['erase'](_0x1b46ac){const _0x3cc5c5=a0_0x4fafc7;this[_0x3cc5c5(0x1a6)]['forEach'](_0x1494e5=>_0x1494e5[_0x3cc5c5(0x1f0)](_0x1b46ac));}['takeTurns'](_0xc1e947,_0x564494){const _0x4a34a1=a0_0x4fafc7;this[_0x4a34a1(0x1a6)][_0x4a34a1(0x1af)](_0x2d2885=>_0x2d2885[_0x4a34a1(0x1ac)](_0xc1e947,_0x564494));}[a0_0x4fafc7(0x1a4)](_0x4373fe,_0x8c4dd4){const _0x5469df=a0_0x4fafc7;return this[_0x5469df(0x1a6)][_0x5469df(0x1d2)](_0x17aa3d=>_0x17aa3d['positionEquals'](_0x4373fe,_0x8c4dd4));}[a0_0x4fafc7(0x1c2)](_0x4a198d){const _0x2e3b8a=a0_0x4fafc7;this[_0x2e3b8a(0x1a6)]=this[_0x2e3b8a(0x1a6)][_0x2e3b8a(0x1e9)](_0x29a400=>_0x29a400!=_0x4a198d);}[a0_0x4fafc7(0x1df)](){const _0x111399=a0_0x4fafc7;return this[_0x111399(0x1a6)]['length'];}[a0_0x4fafc7(0x1b3)](){const _0x246966=a0_0x4fafc7;return this[_0x246966(0x1a6)]['map'](_0x3682f8=>_0x3682f8[_0x246966(0x1b3)]())[_0x246966(0x1ea)](_0x246966(0x1c0));}}function a0_0x3a14(){const _0x2ca9bc=['find','5054412SQUnlF','Boar','padStart','addCreaturesFromFile','calories','glyph','kInitialPlayerCalories','Badger','orange','ArrowUp','playerCalories','yellow','creatureCount','Ate\x20the\x20','resting','statusString','writeLine','dCol','violet','color','gold','dodgerblue','filter','join','ArrowRight','Squirrel','Lynx','move','Porcupine','erase','2251860zfRetp','Mouse','25hToqpb','gameOver','3776391ebbhIZ','setStatusLine','dRow','playerCol','Having\x20eaten\x20everything,\x20player\x20wins!','takeTurns','creatureList','cout-lines','colCount','kCaloriesGainedPerRest','playerRow','creatureAtPosition','kCaloriesGainedPerMeal','creatures','tomato','1272cpIOLR','drawCharAt','magenta','deepskyblue','takeTurn','kCaloriesConsumedPerMove','ArrowDown','forEach','4mWGSrE','chartreuse','cyan','toString','row','getElementById','col','409220hyMEwk','1868iShBpF','main-canvas','turnCount','white','Deer','map','34275PBNcQO','Owl','<br>','crimson','removeCreature','Raccoon','eraseCharAt','initialCalories','name','rest','keydown','sleepTimeout','Falcon','grid','8ZDHBxc','Turn\x20','Rabbit','aqua','237714QpeEcH','draw'];a0_0x3a14=function(){return _0x2ca9bc;};return a0_0x3a14();}