function a0_0x110c(){const _0x4c3f87=['Skunk','kInitialPlayerCalories','dCol','Raccoon','takeTurn','playerRow','creatures','padEnd','Hedgehog','playerCol','forEach','crimson','color','turnCount','map','playerCalories','name','resting','Lynx','441060Vbgttk','draw','calories','540goLDdU','move','filter','find','green','length','drawCharAt','\x20cals.\x20','toString','Deer','magenta','ArrowUp','creatureAtPosition','ArrowLeft','padStart','Boar','removeCreature','rowCount','2684274rABUhL','grid','aqua','statusString','322209uyTGbI','590815IasFdr','positionEquals','glyph','1994QwuzJE','Having\x20starved,\x20player\x20dies.','kCaloriesConsumedPerMove','initialCalories','main-canvas','cout','writeLine','deepskyblue','white','Mouse','.\x20Player\x20has\x20','violet','colCount','tomato','col','getElementById','4275691cUJJrZ','gameOver','row','erase','assign','kCaloriesGainedPerRest','join','cout-lines','dRow','Porcupine','Owl','kCaloriesGainedPerMeal','addCreaturesFromFile','creatureCount','Rabbit','Fox','dodgerblue','eraseCharAt','chartreuse','orangered','takeTurns','241232UbfDtE','creatureList','keydown','56NrRxqL','rest','orange'];a0_0x110c=function(){return _0x4c3f87;};return a0_0x110c();}const a0_0x7f61aa=a0_0x380e;(function(_0x162690,_0xc247df){const _0xc1d650=a0_0x380e,_0x133620=_0x162690();while(!![]){try{const _0x29d8d1=parseInt(_0xc1d650(0x214))/0x1+parseInt(_0xc1d650(0x231))/0x2*(parseInt(_0xc1d650(0x217))/0x3)+parseInt(_0xc1d650(0x1fb))/0x4+parseInt(_0xc1d650(0x22e))/0x5+parseInt(_0xc1d650(0x229))/0x6+-parseInt(_0xc1d650(0x241))/0x7+-parseInt(_0xc1d650(0x1fe))/0x8*(parseInt(_0xc1d650(0x22d))/0x9);if(_0x29d8d1===_0xc247df)break;else _0x133620['push'](_0x133620['shift']());}catch(_0x5d915b){_0x133620['push'](_0x133620['shift']());}}}(a0_0x110c,0x5dfb6));function a0_0x380e(_0x241656,_0x5147ee){const _0x110c7a=a0_0x110c();return a0_0x380e=function(_0x380e7d,_0x40f4f8){_0x380e7d=_0x380e7d-0x1f0;let _0x3236a5=_0x110c7a[_0x380e7d];return _0x3236a5;},a0_0x380e(_0x241656,_0x5147ee);}import{ConsoleGrid,Cout}from'./console-grid.js';export class CreaturesApp{static [a0_0x7f61aa(0x202)]=0x78;static [a0_0x7f61aa(0x233)]=0x5;constructor(){const _0x197e24=a0_0x7f61aa,_0x246bf8={'canvas':document[_0x197e24(0x240)](_0x197e24(0x235)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this['sleepTimeout']=0x64,this[_0x197e24(0x22a)]=new ConsoleGrid(_0x246bf8);const _0x88d0ad=document[_0x197e24(0x240)](_0x197e24(0x248));this[_0x197e24(0x236)]=new Cout(_0x88d0ad),this[_0x197e24(0x206)]=0x5,this[_0x197e24(0x20a)]=0x5,this[_0x197e24(0x210)]=CreaturesApp['kInitialPlayerCalories'],this['turnCount']=0x0,this['gameOver']=![],this[_0x197e24(0x1fc)]=new CreatureList(),this[_0x197e24(0x1fc)][_0x197e24(0x1f2)](),this[_0x197e24(0x1fc)][_0x197e24(0x215)](this[_0x197e24(0x22a)]),this[_0x197e24(0x22a)][_0x197e24(0x21d)](this['playerRow'],this[_0x197e24(0x20a)],'@',_0x197e24(0x239)),this['grid']['setStatusLine'](this[_0x197e24(0x22c)](this[_0x197e24(0x210)],'')),this[_0x197e24(0x236)][_0x197e24(0x237)](this[_0x197e24(0x1fc)][_0x197e24(0x21f)]());}[a0_0x7f61aa(0x22c)](_0x2bdfb5,_0x70983d){const _0x56db53=a0_0x7f61aa;return'Turn\x20'+this[_0x56db53(0x20e)]+_0x56db53(0x23b)+_0x2bdfb5+_0x56db53(0x21e)+_0x70983d;}[a0_0x7f61aa(0x1fd)](_0x1498ba){const _0x4800b7=a0_0x7f61aa;if(this[_0x4800b7(0x242)])return;let _0x43b2cc=![],_0x55c6d5='';this[_0x4800b7(0x1fc)][_0x4800b7(0x244)](this[_0x4800b7(0x22a)]),this[_0x4800b7(0x22a)][_0x4800b7(0x1f7)](this[_0x4800b7(0x206)],this['playerCol']);switch(_0x1498ba){case _0x4800b7(0x222):this[_0x4800b7(0x206)]>0x0&&(_0x43b2cc=!![],this[_0x4800b7(0x206)]--);break;case'ArrowDown':this[_0x4800b7(0x206)]+0x1<this['grid'][_0x4800b7(0x228)]&&(_0x43b2cc=!![],this[_0x4800b7(0x206)]++);break;case _0x4800b7(0x224):this[_0x4800b7(0x20a)]>0x0&&(_0x43b2cc=!![],this[_0x4800b7(0x20a)]--);break;case'ArrowRight':this[_0x4800b7(0x20a)]+0x1<this[_0x4800b7(0x22a)]['colCount']&&(_0x43b2cc=!![],this[_0x4800b7(0x20a)]++);break;case'Q':case'q':this[_0x4800b7(0x242)]=!![];break;default:break;}if(!this['gameOver']){_0x43b2cc&&(this[_0x4800b7(0x210)]-=CreaturesApp[_0x4800b7(0x233)]);this['creatureList']['takeTurns'](this[_0x4800b7(0x22a)][_0x4800b7(0x228)],this['grid'][_0x4800b7(0x23d)]);let _0x4590c5=this[_0x4800b7(0x1fc)][_0x4800b7(0x223)](this[_0x4800b7(0x206)],this[_0x4800b7(0x20a)]);_0x4590c5&&(_0x55c6d5='Ate\x20the\x20'+_0x4590c5[_0x4800b7(0x211)],this[_0x4800b7(0x210)]+=_0x4590c5[_0x4800b7(0x216)],this['creatureList'][_0x4800b7(0x227)](_0x4590c5),this[_0x4800b7(0x1fc)][_0x4800b7(0x1f3)]()==0x0&&(_0x55c6d5='Having\x20eaten\x20everything,\x20player\x20wins!',this[_0x4800b7(0x242)]=!![])),this[_0x4800b7(0x210)]<=0x0&&(_0x55c6d5=_0x4800b7(0x232),this['gameOver']=!![]),this[_0x4800b7(0x20e)]++;}this['creatureList']['draw'](this[_0x4800b7(0x22a)]),this['grid'][_0x4800b7(0x21d)](this['playerRow'],this['playerCol'],'@','white'),this[_0x4800b7(0x22a)]['setStatusLine'](this['statusString'](this[_0x4800b7(0x210)],_0x55c6d5)),this['cout'][_0x4800b7(0x237)](this[_0x4800b7(0x1fc)][_0x4800b7(0x21f)]());}}class Creature{constructor(_0x3b552a){const _0x14fd31=a0_0x7f61aa;Object[_0x14fd31(0x245)](this,_0x3b552a),this[_0x14fd31(0x234)]=this[_0x14fd31(0x216)];}static [a0_0x7f61aa(0x233)]=0x5;static [a0_0x7f61aa(0x1f1)]=0x3c;static [a0_0x7f61aa(0x246)]=0x5;[a0_0x7f61aa(0x22f)](_0x10db95,_0x1137c9){const _0x4e493b=a0_0x7f61aa;return this[_0x4e493b(0x243)]==_0x10db95&&this[_0x4e493b(0x23f)]==_0x1137c9;}['takeTurn'](_0x35100f,_0x268888){const _0x47b51b=a0_0x7f61aa;this[_0x47b51b(0x212)]?this[_0x47b51b(0x1ff)]():this['move'](_0x35100f,_0x268888);}[a0_0x7f61aa(0x218)](_0x3a2636,_0x5e4c56){const _0x2824a7=a0_0x7f61aa;let _0x3cda22=this[_0x2824a7(0x243)]+this['dRow'];(_0x3cda22<0x0||_0x3cda22>=_0x3a2636)&&(this[_0x2824a7(0x249)]*=-0x1,_0x3cda22=this[_0x2824a7(0x243)]+this[_0x2824a7(0x249)]);let _0x5e03a0=this[_0x2824a7(0x23f)]+this[_0x2824a7(0x203)];(_0x5e03a0<0x0||_0x5e03a0>=_0x5e4c56)&&(this['dCol']*=-0x1,_0x5e03a0=this['col']+this['dCol']),(this['row']!=_0x3cda22||this['col']!=_0x5e03a0)&&(this[_0x2824a7(0x243)]=_0x3cda22,this['col']=_0x5e03a0,this['calories']-=Creature['kCaloriesConsumedPerMove'],this['calories']<=0x0&&(this[_0x2824a7(0x212)]=!![]));}[a0_0x7f61aa(0x1ff)](){const _0x2d0819=a0_0x7f61aa;this[_0x2d0819(0x216)]+=Creature[_0x2d0819(0x246)],this['calories']>0.75*this[_0x2d0819(0x234)]&&(this[_0x2d0819(0x212)]=![]);}[a0_0x7f61aa(0x215)](_0x32e421){const _0x1c8b2a=a0_0x7f61aa;_0x32e421[_0x1c8b2a(0x21d)](this[_0x1c8b2a(0x243)],this[_0x1c8b2a(0x23f)],this[_0x1c8b2a(0x230)],this[_0x1c8b2a(0x20d)]);}[a0_0x7f61aa(0x244)](_0x1d1841){const _0x25e934=a0_0x7f61aa;_0x1d1841[_0x25e934(0x1f7)](this[_0x25e934(0x243)],this[_0x25e934(0x23f)]);}[a0_0x7f61aa(0x21f)](){const _0x2a45fd=a0_0x7f61aa;return this[_0x2a45fd(0x211)][_0x2a45fd(0x208)](0xa)+'\x20('+this[_0x2a45fd(0x230)]+')\x20'+this['calories'][_0x2a45fd(0x21f)]()[_0x2a45fd(0x225)](0x4);}}class CreatureList{constructor(){}[a0_0x7f61aa(0x1f2)](){const _0x27da53=a0_0x7f61aa,_0x51a452=[{'name':_0x27da53(0x23a),'glyph':'M','row':0x5,'col':0x2,'dRow':0x1,'dCol':0x1,'calories':0x5a,'color':_0x27da53(0x22b)},{'name':_0x27da53(0x1f4),'glyph':'R','row':0x8,'col':0x1b,'dRow':0x1,'dCol':-0x1,'calories':0x6e,'color':_0x27da53(0x21b)},{'name':_0x27da53(0x226),'glyph':'B','row':0x12,'col':0x12,'dRow':-0x1,'dCol':0x0,'calories':0xf0,'color':'yellow'},{'name':'Squirrel','glyph':'S','row':0x9,'col':0x4,'dRow':-0x1,'dCol':-0x1,'calories':0x64,'color':_0x27da53(0x23c)},{'name':_0x27da53(0x220),'glyph':'D','row':0xc,'col':0xf,'dRow':0x1,'dCol':0x0,'calories':0x15e,'color':_0x27da53(0x221)},{'name':_0x27da53(0x1f5),'glyph':'F','row':0x6,'col':0x13,'dRow':-0x1,'dCol':0x1,'calories':0x96,'color':_0x27da53(0x200)},{'name':_0x27da53(0x204),'glyph':'C','row':0xa,'col':0x7,'dRow':0x0,'dCol':0x1,'calories':0x78,'color':_0x27da53(0x20c)},{'name':_0x27da53(0x1f0),'glyph':'O','row':0x3,'col':0x19,'dRow':0x1,'dCol':-0x1,'calories':0x8c,'color':_0x27da53(0x238)},{'name':_0x27da53(0x209),'glyph':'H','row':0xf,'col':0xa,'dRow':-0x1,'dCol':0x1,'calories':0x46,'color':_0x27da53(0x1f8)},{'name':'Badger','glyph':'A','row':0x7,'col':0xc,'dRow':0x1,'dCol':0x1,'calories':0xb4,'color':'gold'},{'name':_0x27da53(0x24a),'glyph':'P','row':0x12,'col':0x5,'dRow':0x0,'dCol':-0x1,'calories':0x82,'color':_0x27da53(0x23e)},{'name':_0x27da53(0x201),'glyph':'K','row':0xe,'col':0x17,'dRow':0x1,'dCol':0x0,'calories':0x64,'color':'cyan'},{'name':_0x27da53(0x213),'glyph':'L','row':0x4,'col':0x8,'dRow':-0x1,'dCol':0x0,'calories':0xd2,'color':_0x27da53(0x1f6)},{'name':'Falcon','glyph':'N','row':0x1,'col':0x1d,'dRow':0x0,'dCol':0x1,'calories':0xa0,'color':_0x27da53(0x1f9)}];this[_0x27da53(0x207)]=_0x51a452[_0x27da53(0x20f)](_0x5eb1de=>new Creature(_0x5eb1de));}[a0_0x7f61aa(0x215)](_0x56c49e){const _0x6f4afd=a0_0x7f61aa;this[_0x6f4afd(0x207)][_0x6f4afd(0x20b)](_0x8f8844=>_0x8f8844['draw'](_0x56c49e));}[a0_0x7f61aa(0x244)](_0x3490d3){const _0x52df6d=a0_0x7f61aa;this[_0x52df6d(0x207)][_0x52df6d(0x20b)](_0xf142ae=>_0xf142ae[_0x52df6d(0x244)](_0x3490d3));}[a0_0x7f61aa(0x1fa)](_0x1fcb3f,_0x203ff9){const _0x179fb9=a0_0x7f61aa;this[_0x179fb9(0x207)][_0x179fb9(0x20b)](_0x8cd63d=>_0x8cd63d[_0x179fb9(0x205)](_0x1fcb3f,_0x203ff9));}[a0_0x7f61aa(0x223)](_0x16e1fa,_0x3d6405){const _0xcb885e=a0_0x7f61aa;return this[_0xcb885e(0x207)][_0xcb885e(0x21a)](_0x41c974=>_0x41c974[_0xcb885e(0x22f)](_0x16e1fa,_0x3d6405));}[a0_0x7f61aa(0x227)](_0x275803){const _0x2f52f9=a0_0x7f61aa;this[_0x2f52f9(0x207)]=this[_0x2f52f9(0x207)][_0x2f52f9(0x219)](_0x34b165=>_0x34b165!=_0x275803);}[a0_0x7f61aa(0x1f3)](){const _0x1f0823=a0_0x7f61aa;return this[_0x1f0823(0x207)][_0x1f0823(0x21c)];}[a0_0x7f61aa(0x21f)](){const _0x33db9f=a0_0x7f61aa;return this[_0x33db9f(0x207)]['map'](_0x73854f=>_0x73854f['toString']())[_0x33db9f(0x247)]('<br>');}}