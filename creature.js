const a0_0x1cb5d5=a0_0x49c3;function a0_0x49c3(_0x474059,_0x43d0db){const _0xc9d2fc=a0_0xc9d2();return a0_0x49c3=function(_0x49c3f7,_0x5771d3){_0x49c3f7=_0x49c3f7-0x9a;let _0xed1206=_0xc9d2fc[_0x49c3f7];return _0xed1206;},a0_0x49c3(_0x474059,_0x43d0db);}(function(_0x1eafc1,_0x47ff4d){const _0x56afb9=a0_0x49c3,_0x1d0aa7=_0x1eafc1();while(!![]){try{const _0x5158e2=-parseInt(_0x56afb9(0xd2))/0x1*(parseInt(_0x56afb9(0xf3))/0x2)+parseInt(_0x56afb9(0xb9))/0x3+parseInt(_0x56afb9(0xcf))/0x4*(parseInt(_0x56afb9(0xd6))/0x5)+-parseInt(_0x56afb9(0xdd))/0x6*(parseInt(_0x56afb9(0xa8))/0x7)+-parseInt(_0x56afb9(0xb1))/0x8+parseInt(_0x56afb9(0xd5))/0x9+parseInt(_0x56afb9(0xa9))/0xa;if(_0x5158e2===_0x47ff4d)break;else _0x1d0aa7['push'](_0x1d0aa7['shift']());}catch(_0x41d256){_0x1d0aa7['push'](_0x1d0aa7['shift']());}}}(a0_0xc9d2,0x62482));function a0_0xc9d2(){const _0x4db876=['white','Ate\x20the\x20','calories','takeTurns','keydown','draw','dRow','padEnd','.\x20Player\x20has\x20','find','playerCalories','orangered','12970pamjtp','<br>','name','rowCount','cyan','violet','rest','kCaloriesConsumedPerMove','Having\x20eaten\x20everything,\x20player\x20wins!','Squirrel','Hedgehog','removeCreature','creatureList','map','tomato','Falcon','7KDFOcc','7362470JKsAAo','gold','Lynx','drawCharAt','writeLine','ArrowRight','Owl','playerRow','2218096hwbvMP','color','yellow','Rabbit','padStart','move','Skunk','Mouse','474306BOjtFM','kCaloriesGainedPerRest','join','playerCol','setStatusLine','main-canvas','green','length','assign','initialCalories','aqua','Turn\x20','Fox','Deer','creatures','erase','cout','takeTurn','colCount','toString','forEach','Having\x20starved,\x20player\x20dies.','38948CCTyzR','resting','kInitialPlayerCalories','73ixgodV','gameOver','grid','2590200bMLQrv','365XnOnyt','turnCount','dodgerblue','row','eraseCharAt','positionEquals','filter','4438326jeVBkV','ArrowUp','col','crimson','cout-lines','getElementById','creatureAtPosition','sleepTimeout','dCol','statusString'];a0_0xc9d2=function(){return _0x4db876;};return a0_0xc9d2();}import{ConsoleGrid,Cout}from'./console-grid.js';export class CreaturesApp{static [a0_0x1cb5d5(0xd1)]=0x78;static [a0_0x1cb5d5(0x9f)]=0x5;constructor(){const _0x47b387=a0_0x1cb5d5,_0x236914={'canvas':document['getElementById'](_0x47b387(0xbe)),'rowCount':0x14,'colCount':0x1e,'backgroundDots':!![]};this[_0x47b387(0xe4)]=0x64,this[_0x47b387(0xd4)]=new ConsoleGrid(_0x236914);const _0x3603a0=document[_0x47b387(0xe2)](_0x47b387(0xe1));this[_0x47b387(0xc9)]=new Cout(_0x3603a0),this[_0x47b387(0xb0)]=0x5,this[_0x47b387(0xbc)]=0x5,this[_0x47b387(0xf1)]=CreaturesApp[_0x47b387(0xd1)],this['turnCount']=0x0,this[_0x47b387(0xd3)]=![],this[_0x47b387(0xa4)]=new CreatureList(),this['creatureList']['addCreaturesFromFile'](),this[_0x47b387(0xa4)][_0x47b387(0xec)](this['grid']),this[_0x47b387(0xd4)][_0x47b387(0xac)](this[_0x47b387(0xb0)],this[_0x47b387(0xbc)],'@',_0x47b387(0xe7)),this[_0x47b387(0xd4)]['setStatusLine'](this[_0x47b387(0xe6)](this['playerCalories'],'')),this[_0x47b387(0xc9)][_0x47b387(0xad)](this[_0x47b387(0xa4)][_0x47b387(0xcc)]());}['statusString'](_0x3882b6,_0x2790fc){const _0x1b8888=a0_0x1cb5d5;return _0x1b8888(0xc4)+this[_0x1b8888(0xd7)]+_0x1b8888(0xef)+_0x3882b6+'\x20cals.\x20'+_0x2790fc;}[a0_0x1cb5d5(0xeb)](_0x7c7a0c){const _0x5a1172=a0_0x1cb5d5;if(this[_0x5a1172(0xd3)])return;let _0x141165=![],_0x3b09ec='';this[_0x5a1172(0xa4)][_0x5a1172(0xc8)](this[_0x5a1172(0xd4)]),this[_0x5a1172(0xd4)][_0x5a1172(0xda)](this[_0x5a1172(0xb0)],this[_0x5a1172(0xbc)]);switch(_0x7c7a0c){case _0x5a1172(0xde):this['playerRow']>0x0&&(_0x141165=!![],this[_0x5a1172(0xb0)]--);break;case'ArrowDown':this['playerRow']+0x1<this['grid'][_0x5a1172(0x9b)]&&(_0x141165=!![],this['playerRow']++);break;case'ArrowLeft':this[_0x5a1172(0xbc)]>0x0&&(_0x141165=!![],this['playerCol']--);break;case _0x5a1172(0xae):this[_0x5a1172(0xbc)]+0x1<this[_0x5a1172(0xd4)][_0x5a1172(0xcb)]&&(_0x141165=!![],this['playerCol']++);break;case'Q':case'q':this[_0x5a1172(0xd3)]=!![];break;default:break;}if(!this[_0x5a1172(0xd3)]){_0x141165&&(this[_0x5a1172(0xf1)]-=CreaturesApp[_0x5a1172(0x9f)]);this[_0x5a1172(0xa4)][_0x5a1172(0xea)](this[_0x5a1172(0xd4)]['rowCount'],this[_0x5a1172(0xd4)][_0x5a1172(0xcb)]);let _0x180314=this[_0x5a1172(0xa4)][_0x5a1172(0xe3)](this[_0x5a1172(0xb0)],this[_0x5a1172(0xbc)]);_0x180314&&(_0x3b09ec=_0x5a1172(0xe8)+_0x180314['name'],this[_0x5a1172(0xf1)]+=_0x180314['calories'],this[_0x5a1172(0xa4)]['removeCreature'](_0x180314),this['creatureList']['creatureCount']()==0x0&&(_0x3b09ec=_0x5a1172(0xa0),this[_0x5a1172(0xd3)]=!![])),this['playerCalories']<=0x0&&(_0x3b09ec=_0x5a1172(0xce),this[_0x5a1172(0xd3)]=!![]),this[_0x5a1172(0xd7)]++;}this[_0x5a1172(0xa4)][_0x5a1172(0xec)](this[_0x5a1172(0xd4)]),this[_0x5a1172(0xd4)][_0x5a1172(0xac)](this['playerRow'],this[_0x5a1172(0xbc)],'@','white'),this['grid'][_0x5a1172(0xbd)](this[_0x5a1172(0xe6)](this[_0x5a1172(0xf1)],_0x3b09ec)),this[_0x5a1172(0xc9)][_0x5a1172(0xad)](this[_0x5a1172(0xa4)][_0x5a1172(0xcc)]());}}class Creature{constructor(_0x2f0044){const _0x46af22=a0_0x1cb5d5;Object[_0x46af22(0xc1)](this,_0x2f0044),this[_0x46af22(0xc2)]=this[_0x46af22(0xe9)];}static [a0_0x1cb5d5(0x9f)]=0x5;static ['kCaloriesGainedPerMeal']=0x3c;static [a0_0x1cb5d5(0xba)]=0x5;[a0_0x1cb5d5(0xdb)](_0x1bf939,_0x270582){const _0x5a0602=a0_0x1cb5d5;return this[_0x5a0602(0xd9)]==_0x1bf939&&this['col']==_0x270582;}[a0_0x1cb5d5(0xca)](_0x4d264b,_0x4d33fd){const _0x29afe8=a0_0x1cb5d5;this[_0x29afe8(0xd0)]?this[_0x29afe8(0x9e)]():this[_0x29afe8(0xb6)](_0x4d264b,_0x4d33fd);}[a0_0x1cb5d5(0xb6)](_0x45eec3,_0x3ae33f){const _0x251306=a0_0x1cb5d5;let _0x15594c=this[_0x251306(0xd9)]+this[_0x251306(0xed)];(_0x15594c<0x0||_0x15594c>=_0x45eec3)&&(this[_0x251306(0xed)]*=-0x1,_0x15594c=this[_0x251306(0xd9)]+this[_0x251306(0xed)]);let _0x10ce9c=this[_0x251306(0xdf)]+this['dCol'];(_0x10ce9c<0x0||_0x10ce9c>=_0x3ae33f)&&(this[_0x251306(0xe5)]*=-0x1,_0x10ce9c=this[_0x251306(0xdf)]+this[_0x251306(0xe5)]),(this['row']!=_0x15594c||this[_0x251306(0xdf)]!=_0x10ce9c)&&(this[_0x251306(0xd9)]=_0x15594c,this['col']=_0x10ce9c,this['calories']-=Creature[_0x251306(0x9f)],this['calories']<=0x0&&(this[_0x251306(0xd0)]=!![]));}['rest'](){const _0x4b5229=a0_0x1cb5d5;this[_0x4b5229(0xe9)]+=Creature[_0x4b5229(0xba)],this[_0x4b5229(0xe9)]>0.75*this['initialCalories']&&(this[_0x4b5229(0xd0)]=![]);}[a0_0x1cb5d5(0xec)](_0x56af3f){const _0x3b43f5=a0_0x1cb5d5;_0x56af3f[_0x3b43f5(0xac)](this['row'],this[_0x3b43f5(0xdf)],this['glyph'],this[_0x3b43f5(0xb2)]);}[a0_0x1cb5d5(0xc8)](_0x5e85f9){const _0x27e870=a0_0x1cb5d5;_0x5e85f9['eraseCharAt'](this[_0x27e870(0xd9)],this['col']);}[a0_0x1cb5d5(0xcc)](){const _0x33907d=a0_0x1cb5d5;return this[_0x33907d(0x9a)][_0x33907d(0xee)](0xa)+'\x20('+this['glyph']+')\x20'+this[_0x33907d(0xe9)]['toString']()[_0x33907d(0xb5)](0x4);}}class CreatureList{constructor(){}['addCreaturesFromFile'](){const _0x58368c=a0_0x1cb5d5,_0x1c3e7a=[{'name':_0x58368c(0xb8),'glyph':'M','row':0x5,'col':0x2,'dRow':0x1,'dCol':0x1,'calories':0x5a,'color':_0x58368c(0xc3)},{'name':_0x58368c(0xb4),'glyph':'R','row':0x8,'col':0x1b,'dRow':0x1,'dCol':-0x1,'calories':0x6e,'color':_0x58368c(0xbf)},{'name':'Boar','glyph':'B','row':0x12,'col':0x12,'dRow':-0x1,'dCol':0x0,'calories':0xf0,'color':_0x58368c(0xb3)},{'name':_0x58368c(0xa1),'glyph':'S','row':0x9,'col':0x4,'dRow':-0x1,'dCol':-0x1,'calories':0x64,'color':_0x58368c(0x9d)},{'name':_0x58368c(0xc6),'glyph':'D','row':0xc,'col':0xf,'dRow':0x1,'dCol':0x0,'calories':0x15e,'color':'magenta'},{'name':_0x58368c(0xc5),'glyph':'F','row':0x6,'col':0x13,'dRow':-0x1,'dCol':0x1,'calories':0x96,'color':'orange'},{'name':'Raccoon','glyph':'C','row':0xa,'col':0x7,'dRow':0x0,'dCol':0x1,'calories':0x78,'color':_0x58368c(0xe0)},{'name':_0x58368c(0xaf),'glyph':'O','row':0x3,'col':0x19,'dRow':0x1,'dCol':-0x1,'calories':0x8c,'color':'deepskyblue'},{'name':_0x58368c(0xa2),'glyph':'H','row':0xf,'col':0xa,'dRow':-0x1,'dCol':0x1,'calories':0x46,'color':'chartreuse'},{'name':'Badger','glyph':'A','row':0x7,'col':0xc,'dRow':0x1,'dCol':0x1,'calories':0xb4,'color':_0x58368c(0xaa)},{'name':'Porcupine','glyph':'P','row':0x12,'col':0x5,'dRow':0x0,'dCol':-0x1,'calories':0x82,'color':_0x58368c(0xa6)},{'name':_0x58368c(0xb7),'glyph':'K','row':0xe,'col':0x17,'dRow':0x1,'dCol':0x0,'calories':0x64,'color':_0x58368c(0x9c)},{'name':_0x58368c(0xab),'glyph':'L','row':0x4,'col':0x8,'dRow':-0x1,'dCol':0x0,'calories':0xd2,'color':_0x58368c(0xd8)},{'name':_0x58368c(0xa7),'glyph':'N','row':0x1,'col':0x1d,'dRow':0x0,'dCol':0x1,'calories':0xa0,'color':_0x58368c(0xf2)}];this[_0x58368c(0xc7)]=_0x1c3e7a[_0x58368c(0xa5)](_0x2d7acb=>new Creature(_0x2d7acb));}[a0_0x1cb5d5(0xec)](_0x123575){const _0x3c2c81=a0_0x1cb5d5;this[_0x3c2c81(0xc7)][_0x3c2c81(0xcd)](_0x108455=>_0x108455['draw'](_0x123575));}[a0_0x1cb5d5(0xc8)](_0x42e2b3){const _0x25d8e1=a0_0x1cb5d5;this[_0x25d8e1(0xc7)][_0x25d8e1(0xcd)](_0x12ba99=>_0x12ba99[_0x25d8e1(0xc8)](_0x42e2b3));}['takeTurns'](_0x48fbfd,_0x1f9ed5){const _0x498aa9=a0_0x1cb5d5;this['creatures'][_0x498aa9(0xcd)](_0x258482=>_0x258482['takeTurn'](_0x48fbfd,_0x1f9ed5));}[a0_0x1cb5d5(0xe3)](_0x35d185,_0x2efe54){const _0x1d9901=a0_0x1cb5d5;return this[_0x1d9901(0xc7)][_0x1d9901(0xf0)](_0x2904c9=>_0x2904c9[_0x1d9901(0xdb)](_0x35d185,_0x2efe54));}[a0_0x1cb5d5(0xa3)](_0x4a58bd){const _0x576088=a0_0x1cb5d5;this[_0x576088(0xc7)]=this[_0x576088(0xc7)][_0x576088(0xdc)](_0x173cca=>_0x173cca!=_0x4a58bd);}['creatureCount'](){const _0x219547=a0_0x1cb5d5;return this[_0x219547(0xc7)][_0x219547(0xc0)];}[a0_0x1cb5d5(0xcc)](){const _0x4015b7=a0_0x1cb5d5;return this['creatures'][_0x4015b7(0xa5)](_0xa00ed4=>_0xa00ed4['toString']())[_0x4015b7(0xbb)](_0x4015b7(0xf4));}}